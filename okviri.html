<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Liste, podatkovni okviri i faktori | Programirajmo u R-u</title>
  <meta name="description" content="Udžbenik za predmet ‘Osnove statističkog programiranja’ na Fakultetu elektrotehnike i računarstva, Sveučilište u Zagrebu." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Liste, podatkovni okviri i faktori | Programirajmo u R-u" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Udžbenik za predmet ‘Osnove statističkog programiranja’ na Fakultetu elektrotehnike i računarstva, Sveučilište u Zagrebu." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Liste, podatkovni okviri i faktori | Programirajmo u R-u" />
  
  <meta name="twitter:description" content="Udžbenik za predmet ‘Osnove statističkog programiranja’ na Fakultetu elektrotehnike i računarstva, Sveučilište u Zagrebu." />
  

<meta name="author" content="Damir Pintar" />


<meta name="date" content="2024-10-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tipovi.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>

<style type="text/css">
.showopt {
  background-color: #004c93;
  color: #FFFFFF; 
  width: 140px;
  height: 4	0px;
  text-align: center;
  vertical-align: middle !important;
  float: right;
  font-family: sans-serif;
  font-size:10 pt;
  border-radius: 8px;
}

.showopt:hover {
    background-color: #dfe4f2;
    color: #004c93;
}

pre.plot {
  background-color: white !important;
}
</style>

<script>
 $(document).ready(function() {

  $chunks = $('.fold');

  $chunks.each(function () {

    // add button to source code chunks
    if ( $(this).hasClass('s') ) {
      $('pre.r', this).prepend("<div class=\"showopt\">Prikaži rješenje</div><br style=\"line-height:22px;\"/>");
      $('pre.r', this).children('code').attr('class', 'folded');
    }

    // add button to output chunks
    if ( $(this).hasClass('o') ) {
      $('pre:not(.r)', this).has('code').prepend("<div class=\"showopt\">Prikaži ispis</div><br style=\"line-height:22px;\"/>");
      $('pre:not(.r)', this).children('code:not(r)').addClass('folded');

      // add button to plots
      $(this).find('img').wrap('<pre class=\"plot\"></pre>');
      $('pre.plot', this).prepend("<div class=\"showopt\">Prikaži sliku</div><br style=\"line-height:22px;\"/>");
      $('pre.plot', this).children('img').addClass('folded');

    }
  });

  // hide all chunks when document is loaded
  $('.folded').css('display', 'none')

  // function to toggle the visibility
  $('.showopt').click(function() {
    var label = $(this).html();
    if (label.indexOf("Prikaži") >= 0) {
      $(this).html(label.replace("Prikaži", "Sakrij"));
    } else {
      $(this).html(label.replace("Sakrij", "Prikaži"));
    }
    $(this).siblings('code, img').slideToggle('fast', 'swing');
  });
});
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>(Udžbenik za predmet “Osnove statističkog programiranja”)</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#predgovor"><i class="fa fa-check"></i>Predgovor</a></li>
</ul></li>
<li class="part"><span><b>I Osnovni elementi jezika R</b></span></li>
<li class="chapter" data-level="1" data-path="uvod.html"><a href="uvod.html"><i class="fa fa-check"></i><b>1</b> Uvod</a>
<ul>
<li class="chapter" data-level="1.1" data-path="uvod.html"><a href="uvod.html#što-je-programski-jezik-r"><i class="fa fa-check"></i><b>1.1</b> Što je programski jezik R?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="uvod.html"><a href="uvod.html#općenito-o-r-u"><i class="fa fa-check"></i><b>1.1.1</b> Općenito o R-u</a></li>
<li class="chapter" data-level="1.1.2" data-path="uvod.html"><a href="uvod.html#alternative-jeziku-r"><i class="fa fa-check"></i><b>1.1.2</b> Alternative jeziku R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="uvod.html"><a href="uvod.html#instalacija-programske-podrške"><i class="fa fa-check"></i><b>1.2</b> Instalacija programske podrške</a></li>
<li class="chapter" data-level="1.3" data-path="uvod.html"><a href="uvod.html#pregled-razvojnog-sučelja-rstudio"><i class="fa fa-check"></i><b>1.3</b> Pregled razvojnog sučelja <em>RStudio</em></a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="uvod.html"><a href="uvod.html#interaktivna-konzola"><i class="fa fa-check"></i><b>1.3.1</b> Interaktivna konzola</a></li>
<li class="chapter" data-level="1.3.2" data-path="uvod.html"><a href="uvod.html#pisanje-r-skripti"><i class="fa fa-check"></i><b>1.3.2</b> Pisanje R skripti</a></li>
<li class="chapter" data-level="1.3.3" data-path="uvod.html"><a href="uvod.html#instalacija-dodatnih-paketa"><i class="fa fa-check"></i><b>1.3.3</b> Instalacija dodatnih paketa</a></li>
<li class="chapter" data-level="1.3.4" data-path="uvod.html"><a href="uvod.html#r-markdown"><i class="fa fa-check"></i><b>1.3.4</b> <em>R Markdown</em></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="uvod.html"><a href="uvod.html#organizacija-procesa-podatkovne-analize-uz-r-i-rstudio"><i class="fa fa-check"></i><b>1.4</b> Organizacija procesa podatkovne analize uz R i RStudio</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="uvod.html"><a href="uvod.html#poželjne-karakteristike-procesa-analize-podataka"><i class="fa fa-check"></i><b>1.4.1</b> Poželjne karakteristike procesa analize podataka</a></li>
<li class="chapter" data-level="1.4.2" data-path="uvod.html"><a href="uvod.html#organizacija-mapa-za-potrebe-analize-podataka"><i class="fa fa-check"></i><b>1.4.2</b> Organizacija mapa za potrebe analize podataka</a></li>
<li class="chapter" data-level="1.4.3" data-path="uvod.html"><a href="uvod.html#pojam-projekta"><i class="fa fa-check"></i><b>1.4.3</b> Pojam projekta</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="uvod.html"><a href="uvod.html#kako-koristiti-ovaj-udžbenik"><i class="fa fa-check"></i><b>1.5</b> Kako koristiti ovaj udžbenik?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tipovi.html"><a href="tipovi.html"><i class="fa fa-check"></i><b>2</b> Osnovni elementi, vektori i matrice</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tipovi.html"><a href="tipovi.html#osnovni-tipovi-podataka"><i class="fa fa-check"></i><b>2.1</b> Osnovni tipovi podataka</a></li>
<li class="chapter" data-level="2.2" data-path="tipovi.html"><a href="tipovi.html#operatori"><i class="fa fa-check"></i><b>2.2</b> Operatori</a></li>
<li class="chapter" data-level="2.3" data-path="tipovi.html"><a href="tipovi.html#nedostajuće-nepoznate-i-nemoguće-vrijednosti"><i class="fa fa-check"></i><b>2.3</b> Nedostajuće, nepoznate i nemoguće vrijednosti</a></li>
<li class="chapter" data-level="2.4" data-path="tipovi.html"><a href="tipovi.html#vektori"><i class="fa fa-check"></i><b>2.4</b> Vektori</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="tipovi.html"><a href="tipovi.html#stvaranje-vektora"><i class="fa fa-check"></i><b>2.4.1</b> Stvaranje vektora</a></li>
<li class="chapter" data-level="2.4.2" data-path="tipovi.html"><a href="tipovi.html#operator"><i class="fa fa-check"></i><b>2.4.2</b> Operator <code>[</code></a></li>
<li class="chapter" data-level="2.4.3" data-path="tipovi.html"><a href="tipovi.html#principi-vektorizacije-i-recikliranja"><i class="fa fa-check"></i><b>2.4.3</b> Principi vektorizacije i recikliranja</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="tipovi.html"><a href="tipovi.html#indeksni-vektori"><i class="fa fa-check"></i><b>2.5</b> Indeksni vektori</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="tipovi.html"><a href="tipovi.html#lokacijsko-referenciranje"><i class="fa fa-check"></i><b>2.5.1</b> Lokacijsko referenciranje</a></li>
<li class="chapter" data-level="2.5.2" data-path="tipovi.html"><a href="tipovi.html#uvjetno-referenciranje"><i class="fa fa-check"></i><b>2.5.2</b> Uvjetno referenciranje</a></li>
<li class="chapter" data-level="2.5.3" data-path="tipovi.html"><a href="tipovi.html#imensko-referenciranje"><i class="fa fa-check"></i><b>2.5.3</b> Imensko referenciranje</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="tipovi.html"><a href="tipovi.html#matrice-i-polja"><i class="fa fa-check"></i><b>2.6</b> Matrice i polja</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="tipovi.html"><a href="tipovi.html#rezanje-matrica"><i class="fa fa-check"></i><b>2.6.1</b> Rezanje matrica</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tipovi.html"><a href="tipovi.html#zadaci-za-vježbu"><i class="fa fa-check"></i>Zadaci za vježbu</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="okviri.html"><a href="okviri.html"><i class="fa fa-check"></i><b>3</b> Liste, podatkovni okviri i faktori</a>
<ul>
<li class="chapter" data-level="3.1" data-path="okviri.html"><a href="okviri.html#liste"><i class="fa fa-check"></i><b>3.1</b> Liste</a></li>
<li class="chapter" data-level="3.2" data-path="okviri.html"><a href="okviri.html#podatkovni-okviri"><i class="fa fa-check"></i><b>3.2</b> Podatkovni okviri</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="okviri.html"><a href="okviri.html#odabir-redaka-i-stupaca-podatkovnih-okvira"><i class="fa fa-check"></i><b>3.2.1</b> Odabir redaka i stupaca podatkovnih okvira</a></li>
<li class="chapter" data-level="3.2.2" data-path="okviri.html"><a href="okviri.html#dodavanje-i-brisanje-redaka-i-stupaca"><i class="fa fa-check"></i><b>3.2.2</b> Dodavanje i brisanje redaka i stupaca</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="okviri.html"><a href="okviri.html#faktori"><i class="fa fa-check"></i><b>3.3</b> Faktori</a></li>
<li class="chapter" data-level="" data-path="okviri.html"><a href="okviri.html#zadaci-za-vježbu-1"><i class="fa fa-check"></i>Zadaci za vježbu</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programirajmo u R-u</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="okviri" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Liste, podatkovni okviri i faktori<a href="okviri.html#okviri" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<div id="liste" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Liste<a href="okviri.html#liste" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lista je element programskog jezika R koji se koristi kao “univerzalni spremnik” bilo kakvih podataka. Za razliku od vektora (tj. od pojma vektora kakvog smo ga inicijalno definirali), lista može sadržavati različite tipove podataka ili - češće - skupove različitih tipova podataka.</p>
<p>Listu stvaramo uz pomoć funkcije <code>list</code> kojom dodajemo niz parova naziva elemenata i njihovih sadržaja. Ovi elementi mogu biti bilo što, pa čak i druge liste.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="okviri.html#cb92-1" tabindex="-1"></a>mojaLista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">100</span>, <span class="at">c =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">2</span>))</span></code></pre></div>
<p>Probajmo stvoriti vlastitu listu u sljedećem primjeru.</p>
<hr />
<p><strong>Zadatak 3.1 - stvaranje liste</strong></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="okviri.html#cb93-1" tabindex="-1"></a><span class="co"># stvorite novu listu naziva `svastara` koja će imati sljedeće elemente</span></span>
<span id="cb93-2"><a href="okviri.html#cb93-2" tabindex="-1"></a><span class="co">#      element naziva `brojevi` sa cijelim brojevima od 1 do 3</span></span>
<span id="cb93-3"><a href="okviri.html#cb93-3" tabindex="-1"></a><span class="co">#      element naziva `slova` sa slovima &quot;A&quot; i &quot;B&quot;</span></span>
<span id="cb93-4"><a href="okviri.html#cb93-4" tabindex="-1"></a><span class="co">#      bezimeni element sa logičkim vektorom `c(T,F)`</span></span>
<span id="cb93-5"><a href="okviri.html#cb93-5" tabindex="-1"></a><span class="co">#      element naziva `imena` sa imenima &quot;Ivo&quot; i &quot;Ana&quot;</span></span>
<span id="cb93-6"><a href="okviri.html#cb93-6" tabindex="-1"></a></span>
<span id="cb93-7"><a href="okviri.html#cb93-7" tabindex="-1"></a></span>
<span id="cb93-8"><a href="okviri.html#cb93-8" tabindex="-1"></a><span class="co"># ispišite listu `svastara`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="okviri.html#cb94-1" tabindex="-1"></a>svastara <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">brojevi =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), </span>
<span id="cb94-2"><a href="okviri.html#cb94-2" tabindex="-1"></a>                 <span class="at">slova =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), </span>
<span id="cb94-3"><a href="okviri.html#cb94-3" tabindex="-1"></a>                 <span class="fu">c</span>(T,F), </span>
<span id="cb94-4"><a href="okviri.html#cb94-4" tabindex="-1"></a>                 <span class="at">imena =</span> <span class="fu">c</span>(<span class="st">&quot;Ivo&quot;</span>, <span class="st">&quot;Ana&quot;</span>))</span>
<span id="cb94-5"><a href="okviri.html#cb94-5" tabindex="-1"></a></span>
<span id="cb94-6"><a href="okviri.html#cb94-6" tabindex="-1"></a></span>
<span id="cb94-7"><a href="okviri.html#cb94-7" tabindex="-1"></a><span class="co"># ispišite listu `svastara`</span></span>
<span id="cb94-8"><a href="okviri.html#cb94-8" tabindex="-1"></a>svastara</span></code></pre></div>
<pre><code>## $brojevi
## [1] 1 2 3
## 
## $slova
## [1] &quot;A&quot; &quot;B&quot;
## 
## [[3]]
## [1]  TRUE FALSE
## 
## $imena
## [1] &quot;Ivo&quot; &quot;Ana&quot;</code></pre>
</div>
<hr />
<p>Uočite da lista zadržava poredak elemenata - element bez imena prikazan je indeksom 3.</p>
<p>Funkcija <code>str</code> (engl. <em>structure</em>) omogućuje nam uvid u svojstva i sadržaj liste bez ispisivanja cijele liste. Ovu funkciju analitičari često koriste, kako za pregled lista tako i za brzi uvid u već spomenute podatkovne okvire koje ćemo raditi u idućem poglavlju.</p>
<hr />
<p><strong>Zadatak 3.2 - struktura liste</strong></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="okviri.html#cb96-1" tabindex="-1"></a><span class="co"># ispišite strukturu liste `svastara`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="okviri.html#cb97-1" tabindex="-1"></a><span class="co"># ispišite strukturu liste `svastara`</span></span>
<span id="cb97-2"><a href="okviri.html#cb97-2" tabindex="-1"></a><span class="fu">str</span>(svastara)</span></code></pre></div>
<pre><code>## List of 4
##  $ brojevi: num [1:3] 1 2 3
##  $ slova  : chr [1:2] &quot;A&quot; &quot;B&quot;
##  $        : logi [1:2] TRUE FALSE
##  $ imena  : chr [1:2] &quot;Ivo&quot; &quot;Ana&quot;</code></pre>
</div>
<hr />
<p>Na početku ove lekcije smo rekli da u R-u vrijedi princip “sve je vektor” te da su vektori zapravo uređeni skupovi elemenata istog tipa. Iz ovog bi se moglo zaključiti da ta činjenica ne vrijedi za liste - oni očito sadržavaju elemente različitih tipova. No pravi odgovor je - i liste su zapravo vektori, a definicija zapravo nije narušena. Naime, svi elementi liste su zapravo male jednoelementne liste, tako da su formalno svi elementi istog tipa.</p>
<hr />
<p><strong>Zadatak 3.3 - klasa elemenata liste</strong></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="okviri.html#cb99-1" tabindex="-1"></a><span class="co"># ispišite prvi element liste svastara </span></span>
<span id="cb99-2"><a href="okviri.html#cb99-2" tabindex="-1"></a></span>
<span id="cb99-3"><a href="okviri.html#cb99-3" tabindex="-1"></a><span class="co"># provjerite njegovu klasu</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="okviri.html#cb100-1" tabindex="-1"></a><span class="co"># ispišite prvi element liste svastara </span></span>
<span id="cb100-2"><a href="okviri.html#cb100-2" tabindex="-1"></a>svastara[<span class="dv">1</span>]</span>
<span id="cb100-3"><a href="okviri.html#cb100-3" tabindex="-1"></a></span>
<span id="cb100-4"><a href="okviri.html#cb100-4" tabindex="-1"></a><span class="co"># provjerite njegovu klasu</span></span>
<span id="cb100-5"><a href="okviri.html#cb100-5" tabindex="-1"></a><span class="fu">class</span>(svastara[<span class="dv">1</span>])</span></code></pre></div>
<pre><code>## $brojevi
## [1] 1 2 3
## 
## [1] &quot;list&quot;</code></pre>
</div>
<hr />
<p>Dakle, dokazali smo da su elementi liste zapravo male liste, što se vidi iz ispisa samog elementa, kao i provjere njezinog tipa. Možda nam se čini da bi elementi gore stvorene liste trebali biti vektori, budući da smo listu i stvorili “slaganjem” različitih vektora, no u postupku stvaranja objekta R je “umotao” elemente u jednoelementne liste prije nego ih je uklopio u “veliku” listu.</p>
<p>Često ne želimo raditi s elementom liste kao “malom listom”, nego ga trebao u njegovom “originalnom” obliku. Za ovo koristimo operator <code>[[</code>, tj. operator “dvostruke uglate zagrade”.</p>
<hr />
<p><strong>Zadatak 3.4 - operator <code>[[</code></strong></p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="okviri.html#cb102-1" tabindex="-1"></a><span class="co"># ispišite prvi element liste svastara korištenjem  operatora `[[`</span></span>
<span id="cb102-2"><a href="okviri.html#cb102-2" tabindex="-1"></a></span>
<span id="cb102-3"><a href="okviri.html#cb102-3" tabindex="-1"></a></span>
<span id="cb102-4"><a href="okviri.html#cb102-4" tabindex="-1"></a><span class="co"># provjerite njegovu klasu</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="okviri.html#cb103-1" tabindex="-1"></a><span class="co"># ispišite prvi element liste svastara </span></span>
<span id="cb103-2"><a href="okviri.html#cb103-2" tabindex="-1"></a>svastara[[<span class="dv">1</span>]]</span>
<span id="cb103-3"><a href="okviri.html#cb103-3" tabindex="-1"></a></span>
<span id="cb103-4"><a href="okviri.html#cb103-4" tabindex="-1"></a><span class="co"># provjerite njegovu klasu</span></span>
<span id="cb103-5"><a href="okviri.html#cb103-5" tabindex="-1"></a><span class="fu">class</span>(svastara[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## [1] 1 2 3
## [1] &quot;numeric&quot;</code></pre>
</div>
<hr />
<p>Navedeni operator najčešće koristimo kako bi dohvatili odabrani element liste kojeg definiramo brojem ili (ako ima ime) nazivom elementa. Kod ovakvog dohvata moramo koristiti kombinaciju simbola <code>lista[["ime_elementa"]]</code> koja je ponešto nespretna za tipkanja. Zbog toga R nudi alternativni način pristupa elementima liste prema nazivu korištenjem operatora <code>$</code>, tj. <code>lista$ime_elementa</code>.</p>
<hr />
<p><strong>Zadatak 3.5 - operator <code>$</code></strong></p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="okviri.html#cb105-1" tabindex="-1"></a><span class="co"># ispišite element naziva &quot;slova&quot; liste svastara</span></span>
<span id="cb105-2"><a href="okviri.html#cb105-2" tabindex="-1"></a><span class="co"># korištenjem operatora `[[`</span></span>
<span id="cb105-3"><a href="okviri.html#cb105-3" tabindex="-1"></a></span>
<span id="cb105-4"><a href="okviri.html#cb105-4" tabindex="-1"></a></span>
<span id="cb105-5"><a href="okviri.html#cb105-5" tabindex="-1"></a><span class="co"># ispišite isti element korištenjem operatora `$`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="okviri.html#cb106-1" tabindex="-1"></a><span class="co"># ispišite element naziva &quot;slova&quot; liste svastara</span></span>
<span id="cb106-2"><a href="okviri.html#cb106-2" tabindex="-1"></a><span class="co"># korištenjem operatora `[[`</span></span>
<span id="cb106-3"><a href="okviri.html#cb106-3" tabindex="-1"></a>svastara[[<span class="st">&quot;slova&quot;</span>]]</span>
<span id="cb106-4"><a href="okviri.html#cb106-4" tabindex="-1"></a></span>
<span id="cb106-5"><a href="okviri.html#cb106-5" tabindex="-1"></a><span class="co"># ispišite isti element korištenjem operatora `$`</span></span>
<span id="cb106-6"><a href="okviri.html#cb106-6" tabindex="-1"></a>svastara<span class="sc">$</span>slova</span></code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot;
## [1] &quot;A&quot; &quot;B&quot;</code></pre>
</div>
<hr />
<p>Liste su iznimno popularni tip objekta u R-u budući da predstavljaju univerzalni predložak za kompleksnije podatkovne strukture, između ostalog i kompleksnije objekte u užem smislu (kao što ćemo vidjeti kasnije). Lista je također “temelj” za daleko najpopularniji i najčešće korišteni element jezika R - podatkovni okvir - kojeg ćemo upoznati u idućoj lekciji.</p>
<p>Za kraj naučimo dodati element u listu. Ovo je najjednostavnije učiniti korištenjem već spomenutog operatora <code>$</code> - kao npr. <code>lista$noviElement &lt;- noviElement</code>. Element brišemo tako da mu dodijelimo vrijednost <code>NULL</code>.</p>
<hr />
<p><strong>Zadatak 3.6 - dodavanje elementa u listu</strong></p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="okviri.html#cb108-1" tabindex="-1"></a><span class="co"># listi `svastara` dodajte element `parniBrojevi` koji sadrži</span></span>
<span id="cb108-2"><a href="okviri.html#cb108-2" tabindex="-1"></a><span class="co"># sve parne brojeve od 1 do 100</span></span>
<span id="cb108-3"><a href="okviri.html#cb108-3" tabindex="-1"></a></span>
<span id="cb108-4"><a href="okviri.html#cb108-4" tabindex="-1"></a><span class="co"># obrišite treći element liste</span></span>
<span id="cb108-5"><a href="okviri.html#cb108-5" tabindex="-1"></a></span>
<span id="cb108-6"><a href="okviri.html#cb108-6" tabindex="-1"></a></span>
<span id="cb108-7"><a href="okviri.html#cb108-7" tabindex="-1"></a><span class="co"># ispišite listu `svastara`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="okviri.html#cb109-1" tabindex="-1"></a><span class="co"># listi `svastara` dodajte element `parniBrojevi` koji sadrži</span></span>
<span id="cb109-2"><a href="okviri.html#cb109-2" tabindex="-1"></a><span class="co"># sve parne brojeve od 1 do 100</span></span>
<span id="cb109-3"><a href="okviri.html#cb109-3" tabindex="-1"></a>svastara<span class="sc">$</span>parniBrojevi <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb109-4"><a href="okviri.html#cb109-4" tabindex="-1"></a></span>
<span id="cb109-5"><a href="okviri.html#cb109-5" tabindex="-1"></a><span class="co"># obrišite treći element liste</span></span>
<span id="cb109-6"><a href="okviri.html#cb109-6" tabindex="-1"></a>svastara[[<span class="dv">3</span>]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb109-7"><a href="okviri.html#cb109-7" tabindex="-1"></a></span>
<span id="cb109-8"><a href="okviri.html#cb109-8" tabindex="-1"></a><span class="co"># ispišite listu `svastara`</span></span>
<span id="cb109-9"><a href="okviri.html#cb109-9" tabindex="-1"></a><span class="fu">print</span>(svastara)</span></code></pre></div>
<pre><code>## $brojevi
## [1] 1 2 3
## 
## $slova
## [1] &quot;A&quot; &quot;B&quot;
## 
## $imena
## [1] &quot;Ivo&quot; &quot;Ana&quot;
## 
## $parniBrojevi
##  [1]   2   4   6   8  10  12  14  16  18  20  22  24  26  28  30  32  34  36  38
## [20]  40  42  44  46  48  50  52  54  56  58  60  62  64  66  68  70  72  74  76
## [39]  78  80  82  84  86  88  90  92  94  96  98 100</code></pre>
</div>
<hr />
</div>
<div id="podatkovni-okviri" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Podatkovni okviri<a href="okviri.html#podatkovni-okviri" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Kao što je već rečeno, podatkovni okvir je daleko najpopularniji element programskog jezika R. Jezik R predviđen je primarno analizi podataka, a podatkovni okvir zapravo predstavlja objektnu reprezentaciju podatkovnog skupa kojeg namjeravamo analizirati. Drugim riječima, podatkovni okvir je objekt slične funkcije kao tablica u <em>Microsoft Excel</em>-u ili relacijskoj bazi podataka. Gotovo svaka “sesija” u R-u svodi se na manipuliranje podatkovnim okvirima - no dok u <em>Excel</em>-u tablicom upravljamo uz pomoć grafičkog sučelja, a u bazi uz pomoć upitnog jezika <em>SQL</em>, u R-u podatkovnim okvirima upravljamo gotovo isključivo programski.</p>
<p>Uzmimo za primjer sljedeću tablicu:</p>
<table>
<thead>
<tr class="header">
<th>pbr</th>
<th>nazivMjesta</th>
<th>prosjPlacaKn</th>
<th>brojStanovnika</th>
<th>prirez</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10000</td>
<td>Zagreb</td>
<td>6359.00</td>
<td>790017</td>
<td>18</td>
</tr>
<tr class="even">
<td>51000</td>
<td>Rijeka</td>
<td>5418.00</td>
<td>128384</td>
<td>15</td>
</tr>
<tr class="odd">
<td>21000</td>
<td>Split</td>
<td>5170.00</td>
<td>167121</td>
<td>10</td>
</tr>
<tr class="even">
<td>31000</td>
<td>Osijek</td>
<td>4892.00</td>
<td>84104</td>
<td>13</td>
</tr>
<tr class="odd">
<td>20000</td>
<td>Dubrovnik</td>
<td>5348.00</td>
<td>28434</td>
<td>10</td>
</tr>
</tbody>
</table>
<p>Ovdje se radi o podatkovnom skupu koji sadržava određene parametre vezane uz gradove u Republici Hrvatskoj (navedene vrijednosti ne odgovaraju nužno trenutnom stanju već ih koristimo samo za demonstraciju). Lako možemo zamisliti kako ove podatke zapisujemo u <em>Excel</em> ili stvaramo relacijsku tablicu naziva npr. MJESTO u koju onda pohranjujemo navedene podatke. Pokažimo sada kako bi sa istim podacima manipulirati u sklopu jezika R, tj. pokušajmo stvoriti podatkovni okvir koji će sadržavati ove podatke.</p>
<hr />
<p>U prošloj lekciji smo napomenuli da je lista kao složeni tip zapravo svojevrsni “predložak” uz pomoć kojeg možemo raditi nove objekte. Podatkovni okvir tako zapravo nije ništa drugo nego lista – tj. “spremnik” koji može sadržavati u sebi druge spremnike podataka različitog tipa. No dok je “lista“ zapravo <em>univerzalni</em> spremnik, tj. nemamo ograničenja što”trpamo” u nju, podatkovni okvir ima određene restrikcije.</p>
<p>Najvažnije ograničenje koje podatkovni okvir nameće jest da <strong>svaki element unutar podatkovnog okvira mora imati isti broj elemenata</strong>. Zašto je tome tako? Zamislimo listu u kojoj svaki element ima isti broj podelemenata. Ako svaki element skiciramo vertikalno, sa podelementima napisanim jedan ispod drugog, onda će ti podelementi biti “poravnati” po retcima čime smo postigli klasičnu organizaciju podataka u stupce (elemente liste) i retke (poravnati podelementi). Dakle, ova restrikcija zapravo direktno nameće “tabličnu” ili “matričnu” strukturu liste sa jasno definiranim retcima i stupcima, što nam zapravo omogućuje da podatkovnim okvirom upravljamo i uz pomoć metoda vezanih uz liste, ali i uz pomoć metoda primarno namijenjenih matricama.</p>
<hr />
<p>Postoji više načina stvaranja podatkovnih okvira, a mi ćemo prikazati dva u praksi najčešće susretana scenarija:</p>
<ul>
<li>programsko stvaranje uz pomoć funkcije <code>data.frame</code></li>
<li>učitavanje podataka iz vanjskog izvora uz pomoć funkcije <code>read.csv</code></li>
</ul>
<p>Prikažimo oba slučaja. Prvo ćemo stvoriti podatkovni okvir programski.</p>
<hr />
<p><strong>Zadatak 3.7 - programsko stvaranje podatkovnog okvira</strong></p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="okviri.html#cb111-1" tabindex="-1"></a>mjesto <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pbr =</span> <span class="fu">c</span>(<span class="dv">10000</span>, <span class="dv">51000</span>, <span class="dv">21000</span>, <span class="dv">31000</span>, <span class="dv">2000</span>),</span>
<span id="cb111-2"><a href="okviri.html#cb111-2" tabindex="-1"></a>    <span class="at">nazivMjesta =</span> <span class="fu">c</span>(<span class="st">&quot;Zagreb&quot;</span>, <span class="st">&quot;Rijeka&quot;</span>, <span class="st">&quot;Split&quot;</span>, <span class="st">&quot;Osijek&quot;</span>, <span class="st">&quot;Dubrovnik&quot;</span>),</span>
<span id="cb111-3"><a href="okviri.html#cb111-3" tabindex="-1"></a>    <span class="at">prosjPlacaKn =</span> <span class="fu">c</span>(<span class="fl">6359.</span>, <span class="fl">5418.</span>, <span class="fl">5170.</span>, <span class="fl">4892.</span>, <span class="fl">5348.</span>),</span>
<span id="cb111-4"><a href="okviri.html#cb111-4" tabindex="-1"></a>    <span class="at">brojStanovnika =</span> <span class="fu">c</span>(<span class="dv">790017</span>, <span class="dv">128384</span>, <span class="dv">167121</span>, <span class="dv">84104</span>, <span class="dv">28434</span>),</span>
<span id="cb111-5"><a href="okviri.html#cb111-5" tabindex="-1"></a>    <span class="at">prirez =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">15</span>, <span class="dv">10</span>, <span class="dv">13</span>, <span class="dv">10</span>))</span>
<span id="cb111-6"><a href="okviri.html#cb111-6" tabindex="-1"></a></span>
<span id="cb111-7"><a href="okviri.html#cb111-7" tabindex="-1"></a></span>
<span id="cb111-8"><a href="okviri.html#cb111-8" tabindex="-1"></a><span class="co"># ispišite podatkovni okvir `mjesto`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="okviri.html#cb112-1" tabindex="-1"></a>mjesto <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pbr =</span> <span class="fu">c</span>(<span class="dv">10000</span>, <span class="dv">51000</span>, <span class="dv">21000</span>, <span class="dv">31000</span>, <span class="dv">2000</span>),</span>
<span id="cb112-2"><a href="okviri.html#cb112-2" tabindex="-1"></a>    <span class="at">nazivMjesta =</span> <span class="fu">c</span>(<span class="st">&quot;Zagreb&quot;</span>, <span class="st">&quot;Rijeka&quot;</span>, <span class="st">&quot;Split&quot;</span>, <span class="st">&quot;Osijek&quot;</span>, <span class="st">&quot;Dubrovnik&quot;</span>),</span>
<span id="cb112-3"><a href="okviri.html#cb112-3" tabindex="-1"></a>    <span class="at">prosjPlacaKn =</span> <span class="fu">c</span>(<span class="fl">6359.</span>, <span class="fl">5418.</span>, <span class="fl">5170.</span>, <span class="fl">4892.</span>, <span class="fl">5348.</span>),</span>
<span id="cb112-4"><a href="okviri.html#cb112-4" tabindex="-1"></a>    <span class="at">brojStanovnika =</span> <span class="fu">c</span>(<span class="dv">790017</span>, <span class="dv">128384</span>, <span class="dv">167121</span>, <span class="dv">84104</span>, <span class="dv">28434</span>),</span>
<span id="cb112-5"><a href="okviri.html#cb112-5" tabindex="-1"></a>    <span class="at">prirez =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">15</span>, <span class="dv">10</span>, <span class="dv">13</span>, <span class="dv">10</span>))</span>
<span id="cb112-6"><a href="okviri.html#cb112-6" tabindex="-1"></a></span>
<span id="cb112-7"><a href="okviri.html#cb112-7" tabindex="-1"></a></span>
<span id="cb112-8"><a href="okviri.html#cb112-8" tabindex="-1"></a><span class="co"># ispišite podatkovni okvir `mjesto`</span></span>
<span id="cb112-9"><a href="okviri.html#cb112-9" tabindex="-1"></a>mjesto</span></code></pre></div>
<pre><code>##     pbr nazivMjesta prosjPlacaKn brojStanovnika prirez
## 1 10000      Zagreb         6359         790017     18
## 2 51000      Rijeka         5418         128384     15
## 3 21000       Split         5170         167121     10
## 4 31000      Osijek         4892          84104     13
## 5  2000   Dubrovnik         5348          28434     10</code></pre>
</div>
<hr />
<p>Ukoliko želite, pokušajte ponovo stvoriti gornji podatkovni okvir ali uz različite brojeve elemenata vektora koji čine stupce. Ova operacija rezultirati će greškom uz prikladnu poruku a podatkovni okvir neće biti stvoren - R se trudi da matrična priroda okvira uvijek bude očuvana.</p>
<p>Mala napomena glede terminologije: u nastavku ćemo zbog jednostavnosti “podatkovni okvir” često zvati jednostavno “okvir” ili “tablica”. Isto tako, često ćemo za elemente podatkovnog okvira jednakopravno koristiti izraze “stupac”, “varijabla” ili “atribut”, dok ćemo paralelne podelemente elemenata okvira nazivati “retcima” ili “obzervacijama”. Ovi termini u skladu su sa standardnim načinom referenciranja elemenata tablice te statističkim terminima koji se odnose na tablične podatkovne skupove. Ukoliko iz konteksta postoji šansa za dvosmislenost, koristiti će se onaj termin koji jasno opisuje element koji se referencira.</p>
<hr />
<p>Pokušajmo sada učitati tablicu iz vanjskog izvora. Iako R dopušta različite oblike “vanjskih” podataka, mi ćemo pretpostaviti da podatke dobivamo u tzv. “CSV obliku” (engl. CSV - <em>comma-separated values</em>). Ovaj oblik jedan je od najpopularnijih načina pohrane podataka u čistom tekstualnom obliku koji ima prednosti da se lako izrađuje ručno, a većina alata za upravljanje podacima implementira i logiku za izvoz podataka u obliku CSV datoteke.</p>
<p>U nastavku možemo vidjeti primjer CSV datoteke koja odgovara podatkovnom okviru izrađenom u prethodnom primjeru. Pretpostavimo da se datoteka zove <code>mjesto.csv</code>. Podaci su odvojeni zarezom (bez razmaknice!), svaka obzervacija u svojem retku, a opcionalni prvi redak predstavlja nazive stupaca.</p>
<hr />
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="okviri.html#cb114-1" tabindex="-1"></a>pbr,nazivMjesta,prosjPlacaKn,brojStanovnika,prirez</span>
<span id="cb114-2"><a href="okviri.html#cb114-2" tabindex="-1"></a><span class="dv">10000</span>,Zagreb,<span class="fl">6359.00</span>,<span class="dv">790017</span>,<span class="dv">18</span> </span>
<span id="cb114-3"><a href="okviri.html#cb114-3" tabindex="-1"></a><span class="dv">51000</span>,Rijeka,<span class="fl">5418.00</span>,<span class="dv">128384</span>,<span class="dv">15</span></span>
<span id="cb114-4"><a href="okviri.html#cb114-4" tabindex="-1"></a><span class="dv">21000</span>,Split,<span class="fl">5170.00</span>,<span class="dv">167121</span>,<span class="dv">10</span></span>
<span id="cb114-5"><a href="okviri.html#cb114-5" tabindex="-1"></a><span class="dv">31000</span>,Osijek,<span class="fl">4892.00</span>,<span class="dv">84104</span>,<span class="dv">13</span> </span>
<span id="cb114-6"><a href="okviri.html#cb114-6" tabindex="-1"></a><span class="dv">20000</span>,Dubrovnik,<span class="fl">5348.00</span>,<span class="dv">28434</span>,<span class="dv">10</span></span></code></pre></div>
<hr />
<p>Jedan od potencijalnih problema sa CSV datotekama jest taj što one koriste zarez kao razdvojnik (<em>delimiter</em>) elemenata zapisa, a na određenim govornim područjima kao standard se umjesto decimalne točke koristi upravo “decimalni zarez”. Zbog ove činjenice postoji i “alternativni” CSV standard koji kao razdvojnik koristi “točku-zarez”, tako da bi naša CSV datoteka u tom slučaju izgledala ovako (nazovimo ju <code>mjestoAlt.csv</code>):</p>
<hr />
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="okviri.html#cb115-1" tabindex="-1"></a>pbr;nazivMjesta;prosjPlacaKn;brojStanovnika;prirez</span>
<span id="cb115-2"><a href="okviri.html#cb115-2" tabindex="-1"></a><span class="dv">10000</span>;Zagreb;<span class="dv">6359</span>,<span class="dv">00</span>;<span class="dv">790017</span>;<span class="dv">18</span> </span>
<span id="cb115-3"><a href="okviri.html#cb115-3" tabindex="-1"></a><span class="dv">51000</span>;Rijeka;<span class="dv">5418</span>,<span class="dv">00</span>;<span class="dv">128384</span>;<span class="dv">15</span></span>
<span id="cb115-4"><a href="okviri.html#cb115-4" tabindex="-1"></a><span class="dv">21000</span>;Split;<span class="dv">5170</span>,<span class="dv">00</span>;<span class="dv">167121</span>;<span class="dv">10</span></span>
<span id="cb115-5"><a href="okviri.html#cb115-5" tabindex="-1"></a><span class="dv">31000</span>;Osijek;<span class="dv">4892</span>,<span class="dv">00</span>;<span class="dv">84104</span>;<span class="dv">13</span> </span>
<span id="cb115-6"><a href="okviri.html#cb115-6" tabindex="-1"></a><span class="dv">20000</span>;Dubrovnik;<span class="dv">5348</span>,<span class="dv">00</span>;<span class="dv">28434</span>;<span class="dv">10</span></span></code></pre></div>
<hr />
<p>Obzirom da je “decimalni zarez” propisani standard i na području Republike Hrvatske, u radu sa CSV datotekama moramo biti oprezni koji od dva standarda zapisa se koristi. Na sreću, jezik R nudi funkcije za podršku oba standarda, tako da ne moramo posebno prilagođavati ulazne datoteke, tek biti oprezni koju funkciju ćemo odabrati.</p>
<p>Pretpostavimo da u radnoj mapi imamo ove dvije datoteke:</p>
<ul>
<li><code>mjesto.csv</code></li>
<li><code>mjestoAlt.csv</code></li>
</ul>
<p>Ukoliko nemamo dostupne ove datoteke lako ih možemo samostalno napraviti uz pomoć običnog uređivača teksta (npr. <em>Notepad</em> ili <em>gedit</em>) i kopiranja gore navedenih redaka.</p>
<hr />
<p>Za stvaranje podatkovnih okvira iz CSV datoteka R nudi sljedeće funkcije:
- <code>read.csv</code> - za “normalne” CSV datoteke sa zarezom kao razdvojnikom
- <code>read.csv2</code> - za alternativni CSV standard koji koristi točku-zarez</p>
<p>Osnovni parametar ovih funkcija je staza do CSV datoteke koju učitavamo. Funkcije imaju i bogati niz dodatnih parametara koje omogućuju prilagodbu raznim scenarijima, a ukoliko smo dobili neki od “egzotičnijih” oblika CSV datoteke, isplati se pogledati i funkciju <code>read.table</code> koja je vrlo fleksibilna glede broja različitih parametara i postavki kod učitavanja podataka (<code>read.csv</code> i <code>read.csv2</code> su zapravo izvedene iz funkcije <code>read.table</code> fiksiranjem određenih parametara na standardne CSV značajke).</p>
<hr />
<p>Iako ćemo “naprednije” funkcije iz kolekcije <code>tidyverse</code> učiti u jednoj od narednih lekcija, u ovom trenutku nije loše odmah predstaviti alternative prikazanim funkcijama iz paketa <code>readr</code>. Funkcije za čitanje iz tabularnih datoteka vrlo su slične funkcionalnosti osnovnim funkcijama, a po nazivu se uglavnom razlikuju u tome što koriste simbol “podcrte” <code>_</code> umjesto “točke” <code>.</code>, pa za CSV datoteke imamo:</p>
<ul>
<li><code>read_csv</code> - za “normalne” CSV datoteke sa zarezom kao razdvojnikom</li>
<li><code>read_csv2</code> - za alternativni CSV standard koji koristi točku-zarez</li>
</ul>
<p>Postoji niz razloga zašto su ove funkcije preferirane, no ovu raspravu ćemo odgoditi za kasnije, dok ćemo se sada usredotočiti na način njihovog korištenja.</p>
<hr />
<p>Neke od parametara vrijednosti funkcija <code>read_csv</code> (ili <code>read_table</code>) koje je korisno znati su (usput je naveden i primjer parametra):</p>
<ul>
<li><code>col_names = FALSE</code> - za datoteke bez zaglavlja</li>
<li><code>col_types = "ccnlf"</code> - za eksplicitnu definiciju tipova; prikazana je skraćena sintaksa za primjer od pet stupaca koja označava <em>character-character-numeric-logical-factor</em></li>
<li><code>delim = "#"</code> - za datoteke koje koriste “egzotični” razdvojnik, u ovom slučaju <code>#</code></li>
<li><code>na = "NULL"</code> - naznaka koji standard podaci koriste za reprezentaciju nedostajućih vrijednosti a koji će u R-u postati <code>NA</code></li>
<li><code>n_max = 2000</code> - maksimalan broj redaka koji će se pročitati, u ovom slučaju 2000</li>
</ul>
<p>Ovo <strong>nisu</strong> nazivne vrijednosti parametra - njih, kao i ostale parametre možemo lako pronaći traženjem pomoći za odabranu naredbu, tj. preko <code>?read_csv</code>.</p>
<p>Pokušajmo sada učitati podatke iz dostupnih CSV datoteka. Ovi podaci neće zahtijevati posebne parametre te će se moći učitati samo pružanjem staze do pripadnih datoteka (jedne koja koristi zarez i druge koja koristi točku-zarez kao razdvojnik).</p>
<hr />
<p><strong>Zadatak 3.8 - čitanje podataka iz CSV datoteke</strong></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="okviri.html#cb116-1" tabindex="-1"></a><span class="co"># učitajte podatke iz datoteka `mjesto.csv` i `mjestoAlt.csv`</span></span>
<span id="cb116-2"><a href="okviri.html#cb116-2" tabindex="-1"></a><span class="co"># podatke spremite u okvire `mjesto2` i `mjesto3`</span></span>
<span id="cb116-3"><a href="okviri.html#cb116-3" tabindex="-1"></a></span>
<span id="cb116-4"><a href="okviri.html#cb116-4" tabindex="-1"></a><span class="co"># ispišite okvire `mjesto2` i `mjesto3`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="okviri.html#cb117-1" tabindex="-1"></a><span class="co"># učitajte podatke iz datoteka `mjesto.csv` i `mjestoAlt.csv`</span></span>
<span id="cb117-2"><a href="okviri.html#cb117-2" tabindex="-1"></a><span class="co"># podatke spremite u okvire `mjesto2` i `mjesto3`</span></span>
<span id="cb117-3"><a href="okviri.html#cb117-3" tabindex="-1"></a></span>
<span id="cb117-4"><a href="okviri.html#cb117-4" tabindex="-1"></a><span class="co"># library(readr)</span></span>
<span id="cb117-5"><a href="okviri.html#cb117-5" tabindex="-1"></a>mjesto2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;mjesto.csv&quot;</span>)</span>
<span id="cb117-6"><a href="okviri.html#cb117-6" tabindex="-1"></a>mjesto3 <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">&quot;mjestoAlt.csv&quot;</span>)</span>
<span id="cb117-7"><a href="okviri.html#cb117-7" tabindex="-1"></a></span>
<span id="cb117-8"><a href="okviri.html#cb117-8" tabindex="-1"></a><span class="co"># ispišite okvire `mjesto2` i `mjesto3`</span></span>
<span id="cb117-9"><a href="okviri.html#cb117-9" tabindex="-1"></a>mjesto2</span>
<span id="cb117-10"><a href="okviri.html#cb117-10" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb117-11"><a href="okviri.html#cb117-11" tabindex="-1"></a>mjesto3</span></code></pre></div>
<pre><code>## Rows: 5 Columns: 5
## ── Column specification ────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (1): nazivMjesta
## dbl (4): pbr, prosjPlacaKn, brojStanovnika, prirez
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
## ℹ Using &quot;&#39;,&#39;&quot; as decimal and &quot;&#39;.&#39;&quot; as grouping mark. Use `read_delim()` for more control.
## 
## Rows: 5 Columns: 5
## ── Column specification ────────────────────────────────────────
## Delimiter: &quot;;&quot;
## chr (1): nazivMjesta
## dbl (4): pbr, prosjPlacaKn, brojStanovnika, prirez
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre><code>## # A tibble: 5 × 5
##     pbr nazivMjesta prosjPlacaKn brojStanovnika prirez
##   &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt;          &lt;dbl&gt;  &lt;dbl&gt;
## 1 10000 Zagreb              6359         790017     18
## 2 51000 Rijeka              5418         128384     15
## 3 21000 Split               5170         167121     10
## 4 31000 Osijek              4892          84104     13
## 5 20000 Dubrovnik           5348          28434     10
## -----------
## # A tibble: 5 × 5
##     pbr nazivMjesta prosjPlacaKn brojStanovnika prirez
##   &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt;          &lt;dbl&gt;  &lt;dbl&gt;
## 1 10000 Zagreb              6359         790017     18
## 2 51000 Rijeka              5418         128384     15
## 3 21000 Split               5170         167121     10
## 4 31000 Osijek              4892          84104     13
## 5 20000 Dubrovnik           5348          28434     10</code></pre>
</div>
<hr />
<p>Uočimo da nam ove funkcije daju neke korisne informacije vezane uz pročitane datoteke. Ukoliko ove poruke ne želimo vidjeti, možemo funkciju omotati u poziv funkcije <code>suppressMessages</code> (u slučaju RMD datoteka možemo i u parametre kodnog odsječka staviti <code>message = FALSE</code>). Isto tako, mogli smo kod ispisa uočiti da se ovdje radi o objektima klase <code>tibble</code>, umjesto ranije spomenute klase <code>data.frame</code>. U ovom trenutku dovoljno je znati da je <code>tibble</code> zapravo podatkovni okvir sa ugrađenim izvjesnim optimizacijama koje za sada nisu previše relevantne, tako da možemo ove varijable smatrati “običnim” podatkovnim okvirima.</p>
<hr />
<p>Pogledajmo sada neke korisne funkcije za rad sa podatkovnim okvirima tj. tablicama. Dobar dio njih će nam već otprije biti poznat iz iskustva u radu sa listama i matricama:</p>
<ul>
<li><code>nrow</code> - broj redaka</li>
<li><code>ncol</code> ili <code>length</code> - broj stupaca (budući da se okvir ponaša i kao matrica i kao lista)</li>
<li><code>dim</code> - dimenzije tablice</li>
<li><code>names</code> - imena stupaca</li>
<li><code>head</code> - ispis nekoliko redaka s početka tablice</li>
<li><code>tail</code> - ispis nekoliko redaka s kraja tablice</li>
<li><code>str</code> - ispis strukture tablice</li>
<li><code>summary</code> - sažete statističke informacije o stupcima tablice</li>
</ul>
<p>Isprobajmo neke od ovih funkcija:</p>
<hr />
<p><strong>Zadatak 3.9 - funkcije za rad sa podatkovnim okvirima</strong></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="okviri.html#cb120-1" tabindex="-1"></a><span class="co"># ispišite dimenzije tablice `mjesto`</span></span>
<span id="cb120-2"><a href="okviri.html#cb120-2" tabindex="-1"></a></span>
<span id="cb120-3"><a href="okviri.html#cb120-3" tabindex="-1"></a></span>
<span id="cb120-4"><a href="okviri.html#cb120-4" tabindex="-1"></a><span class="co"># ispišite strukturu tablice `mjesto`</span></span>
<span id="cb120-5"><a href="okviri.html#cb120-5" tabindex="-1"></a></span>
<span id="cb120-6"><a href="okviri.html#cb120-6" tabindex="-1"></a></span>
<span id="cb120-7"><a href="okviri.html#cb120-7" tabindex="-1"></a><span class="co"># ispišite prvih nekoliko redaka tablice `mjesto`</span></span>
<span id="cb120-8"><a href="okviri.html#cb120-8" tabindex="-1"></a></span>
<span id="cb120-9"><a href="okviri.html#cb120-9" tabindex="-1"></a></span>
<span id="cb120-10"><a href="okviri.html#cb120-10" tabindex="-1"></a><span class="co"># ispišite sažete statističke informacije o stupcima tablice `mjesto`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="okviri.html#cb121-1" tabindex="-1"></a><span class="co"># ispišite dimenzije tablice `mjesto`</span></span>
<span id="cb121-2"><a href="okviri.html#cb121-2" tabindex="-1"></a><span class="fu">dim</span>(mjesto)</span>
<span id="cb121-3"><a href="okviri.html#cb121-3" tabindex="-1"></a></span>
<span id="cb121-4"><a href="okviri.html#cb121-4" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb121-5"><a href="okviri.html#cb121-5" tabindex="-1"></a></span>
<span id="cb121-6"><a href="okviri.html#cb121-6" tabindex="-1"></a><span class="co"># ispišite strukturu tablice `mjesto`</span></span>
<span id="cb121-7"><a href="okviri.html#cb121-7" tabindex="-1"></a><span class="fu">str</span>(mjesto)</span>
<span id="cb121-8"><a href="okviri.html#cb121-8" tabindex="-1"></a></span>
<span id="cb121-9"><a href="okviri.html#cb121-9" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb121-10"><a href="okviri.html#cb121-10" tabindex="-1"></a></span>
<span id="cb121-11"><a href="okviri.html#cb121-11" tabindex="-1"></a><span class="co"># ispišite prvih nekoliko redaka tablice `mjesto`</span></span>
<span id="cb121-12"><a href="okviri.html#cb121-12" tabindex="-1"></a><span class="fu">head</span>(mjesto)</span>
<span id="cb121-13"><a href="okviri.html#cb121-13" tabindex="-1"></a></span>
<span id="cb121-14"><a href="okviri.html#cb121-14" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb121-15"><a href="okviri.html#cb121-15" tabindex="-1"></a></span>
<span id="cb121-16"><a href="okviri.html#cb121-16" tabindex="-1"></a><span class="co"># ispišite sažete statističke informacije o stupcima tablice `mjesto`</span></span>
<span id="cb121-17"><a href="okviri.html#cb121-17" tabindex="-1"></a><span class="fu">summary</span>(mjesto)</span></code></pre></div>
<pre><code>## [1] 5 5
## -----------
## &#39;data.frame&#39;:    5 obs. of  5 variables:
##  $ pbr           : num  10000 51000 21000 31000 2000
##  $ nazivMjesta   : chr  &quot;Zagreb&quot; &quot;Rijeka&quot; &quot;Split&quot; &quot;Osijek&quot; ...
##  $ prosjPlacaKn  : num  6359 5418 5170 4892 5348
##  $ brojStanovnika: num  790017 128384 167121 84104 28434
##  $ prirez        : num  18 15 10 13 10
## -----------
##     pbr nazivMjesta prosjPlacaKn brojStanovnika prirez
## 1 10000      Zagreb         6359         790017     18
## 2 51000      Rijeka         5418         128384     15
## 3 21000       Split         5170         167121     10
## 4 31000      Osijek         4892          84104     13
## 5  2000   Dubrovnik         5348          28434     10
## -----------
##       pbr        nazivMjesta         prosjPlacaKn  brojStanovnika  
##  Min.   : 2000   Length:5           Min.   :4892   Min.   : 28434  
##  1st Qu.:10000   Class :character   1st Qu.:5170   1st Qu.: 84104  
##  Median :21000   Mode  :character   Median :5348   Median :128384  
##  Mean   :23000                      Mean   :5437   Mean   :239612  
##  3rd Qu.:31000                      3rd Qu.:5418   3rd Qu.:167121  
##  Max.   :51000                      Max.   :6359   Max.   :790017  
##      prirez    
##  Min.   :10.0  
##  1st Qu.:10.0  
##  Median :13.0  
##  Mean   :13.2  
##  3rd Qu.:15.0  
##  Max.   :18.0</code></pre>
</div>
<hr />
<div id="odabir-redaka-i-stupaca-podatkovnih-okvira" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Odabir redaka i stupaca podatkovnih okvira<a href="okviri.html#odabir-redaka-i-stupaca-podatkovnih-okvira" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Već smo rekli da se podatkovni okviri ponašaju i kao matrice i kao liste, što je svojstvo kojim se posebno često služimo kod odabira redaka i stupaca podatkovnih okvira. Konkretno, za “rezanje” okvira najčešće koristimo:</p>
<ul>
<li>dvodimenzionalno referenciranje uz pomoć indeksnih vektora</li>
<li>odabir pojedinog stupca uz pomoć operatora <code>$</code></li>
</ul>
<p>Ovdje smo zapravo dosta fleksibilni - možemo npr. prvo “izrezati” određene retke matrice uz pomoć lokacijskog referenciranja i potom izdvojiti samo jedan stupac uz pomoć operatora <code>$</code>. U praksi je jedna od najčešćih kombinacija uvjetni odabir redaka uz imenski odabir stupaca (poznavatelji <em>SQL</em>-a prepoznati će ovo kao standardnu kombinaciju <em>WHERE</em> uvjeta i <em>SELECT</em> liste).</p>
<p>Pokušajmo primijeniti naše znanje o indeksnim vektorima, matricama i listama na rezanje podatkovnih okvira.</p>
<hr />
<p><strong>Zadatak 3.10 - rezanje podatkovnih okvira</strong></p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="okviri.html#cb123-1" tabindex="-1"></a><span class="co"># ispišite tablicu `mjesto` (za referencu)</span></span>
<span id="cb123-2"><a href="okviri.html#cb123-2" tabindex="-1"></a></span>
<span id="cb123-3"><a href="okviri.html#cb123-3" tabindex="-1"></a><span class="co"># ispišite prva tri retka, treći i peti stupac</span></span>
<span id="cb123-4"><a href="okviri.html#cb123-4" tabindex="-1"></a></span>
<span id="cb123-5"><a href="okviri.html#cb123-5" tabindex="-1"></a><span class="co"># ispišite stupac &quot;prirez&quot;</span></span>
<span id="cb123-6"><a href="okviri.html#cb123-6" tabindex="-1"></a></span>
<span id="cb123-7"><a href="okviri.html#cb123-7" tabindex="-1"></a><span class="co"># ispišite poštanske brojeve i nazive svih mjesta koja </span></span>
<span id="cb123-8"><a href="okviri.html#cb123-8" tabindex="-1"></a><span class="co"># imaju prirez veći od 12% i broj stanovnika veći od 100,000</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="okviri.html#cb124-1" tabindex="-1"></a><span class="co">#ispišite tablicu `mjesto` (za referencu)</span></span>
<span id="cb124-2"><a href="okviri.html#cb124-2" tabindex="-1"></a>mjesto</span>
<span id="cb124-3"><a href="okviri.html#cb124-3" tabindex="-1"></a></span>
<span id="cb124-4"><a href="okviri.html#cb124-4" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb124-5"><a href="okviri.html#cb124-5" tabindex="-1"></a></span>
<span id="cb124-6"><a href="okviri.html#cb124-6" tabindex="-1"></a><span class="co">#ispišite prva tri retka, treći i peti stupac</span></span>
<span id="cb124-7"><a href="okviri.html#cb124-7" tabindex="-1"></a>mjesto[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)]</span>
<span id="cb124-8"><a href="okviri.html#cb124-8" tabindex="-1"></a></span>
<span id="cb124-9"><a href="okviri.html#cb124-9" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb124-10"><a href="okviri.html#cb124-10" tabindex="-1"></a></span>
<span id="cb124-11"><a href="okviri.html#cb124-11" tabindex="-1"></a><span class="co">#ispišite stupac &quot;prirez&quot;</span></span>
<span id="cb124-12"><a href="okviri.html#cb124-12" tabindex="-1"></a>mjesto<span class="sc">$</span>prirez</span>
<span id="cb124-13"><a href="okviri.html#cb124-13" tabindex="-1"></a></span>
<span id="cb124-14"><a href="okviri.html#cb124-14" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb124-15"><a href="okviri.html#cb124-15" tabindex="-1"></a></span>
<span id="cb124-16"><a href="okviri.html#cb124-16" tabindex="-1"></a><span class="co">#ispišite poštanske brojeve i nazive svih mjesta koji imaju </span></span>
<span id="cb124-17"><a href="okviri.html#cb124-17" tabindex="-1"></a><span class="co"># prirez veći od 12% i broj stanovnika veći od 100,000</span></span>
<span id="cb124-18"><a href="okviri.html#cb124-18" tabindex="-1"></a>mjesto[mjesto<span class="sc">$</span>prirez <span class="sc">&gt;</span> <span class="dv">12</span> <span class="sc">&amp;</span> mjesto<span class="sc">$</span>brojStanovnika <span class="sc">&gt;</span> <span class="dv">100000</span>, <span class="fu">c</span>(<span class="st">&quot;pbr&quot;</span>, <span class="st">&quot;nazivMjesta&quot;</span>)]</span></code></pre></div>
<pre><code>##     pbr nazivMjesta prosjPlacaKn brojStanovnika prirez
## 1 10000      Zagreb         6359         790017     18
## 2 51000      Rijeka         5418         128384     15
## 3 21000       Split         5170         167121     10
## 4 31000      Osijek         4892          84104     13
## 5  2000   Dubrovnik         5348          28434     10
## -----------
##   prosjPlacaKn prirez
## 1         6359     18
## 2         5418     15
## 3         5170     10
## -----------
## [1] 18 15 10 13 10
## -----------
##     pbr nazivMjesta
## 1 10000      Zagreb
## 2 51000      Rijeka</code></pre>
</div>
<hr />
<p>Uočite sličnost između zadnjeg izraza i SQL upita: `</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="okviri.html#cb126-1" tabindex="-1"></a>SELECT pbr, nazivMjesta</span>
<span id="cb126-2"><a href="okviri.html#cb126-2" tabindex="-1"></a>FROM mjesto</span>
<span id="cb126-3"><a href="okviri.html#cb126-3" tabindex="-1"></a>WHERE mjesto.prirez <span class="sc">&gt;</span> <span class="dv">12</span> AND mjesto.brojStanovnika <span class="sc">&gt;</span> <span class="dv">100000</span></span></code></pre></div>
<p>Odabir stupaca i redaka nije težak ako dobro baratamo znanjem o indeksnim vektorima, no kao što se vidi u zadnjem primjeru sintaksa često nije previše čitljiva (u usporedbi sa npr. SQL-ovom sintaksom koja obavlja isti posao). Zbog toga postoje različita proširenja R-a koji ovaj posao uvelike olakšavaju, a koja ćemo detaljno obraditi u jednoj od budućih lekcija koja će se baviti upravljanjem podatkovnim skupovima.</p>
<hr />
</div>
<div id="dodavanje-i-brisanje-redaka-i-stupaca" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Dodavanje i brisanje redaka i stupaca<a href="okviri.html#dodavanje-i-brisanje-redaka-i-stupaca" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Za dodavanje i brisanje redaka i stupaca opet se dovoljno sjetiti da je podatkovni okvir svojevrsni hibrid matrice i liste tj. ako znamo dodavati retke i stupce u matricu ili nove elemente u listu onda ekvivalentnim načinom možemo podatke dodavati i u podatkovni okvir. U radu sa podatkovnim okvirima nešto češće dodajemo nove stupce (obično kao transformacije postojećih stupaca) nego retke tako da možemo primjere započeti sa dodavanjem stupaca.</p>
<p>Kao što je rečeno, stupce u podatkovni okvir dodajemo na isti način kao što dodajemo elemente liste - uz pažnju da dodani stupac ima isti broj elemenata kao i ostali stupci. Novi stupci često su izvedenice postojećih stupaca koje predstavljaju binarne indikatore, rezultate aritmetičkih izraza podataka u drugim stupcima i sl.</p>
<hr />
<p><strong>Zadatak 3.11 - dodavanje novih stupaca u tablicu</strong></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="okviri.html#cb127-1" tabindex="-1"></a><span class="co"># tablici `mjesto` dodajte logički stupac `visokPrirez` </span></span>
<span id="cb127-2"><a href="okviri.html#cb127-2" tabindex="-1"></a><span class="co"># koji će pokazivati da li je prirez veći od 12%</span></span>
<span id="cb127-3"><a href="okviri.html#cb127-3" tabindex="-1"></a></span>
<span id="cb127-4"><a href="okviri.html#cb127-4" tabindex="-1"></a></span>
<span id="cb127-5"><a href="okviri.html#cb127-5" tabindex="-1"></a><span class="co"># pretpostavimo sljedeći (fiktivni!) način okvirnog izračuna ukupnog prireza</span></span>
<span id="cb127-6"><a href="okviri.html#cb127-6" tabindex="-1"></a><span class="co"># - mjesta imaju prosječno 60% radne populacije</span></span>
<span id="cb127-7"><a href="okviri.html#cb127-7" tabindex="-1"></a><span class="co"># - svaki radnik plaća porez koji je otprilike jednak 10% neto plaće </span></span>
<span id="cb127-8"><a href="okviri.html#cb127-8" tabindex="-1"></a><span class="co"># - prirez kojeg radnik plaća računamo kao (stopa prireza)*(iznos poreza)</span></span>
<span id="cb127-9"><a href="okviri.html#cb127-9" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb127-10"><a href="okviri.html#cb127-10" tabindex="-1"></a><span class="co"># dodajte stupac `mjesecniPrihod` koji će uz pomoć prosječne plaće, prireza </span></span>
<span id="cb127-11"><a href="okviri.html#cb127-11" tabindex="-1"></a><span class="co"># i broja stanovnika procijeniti koliki prihod pojedino mjesto dobija od prireza </span></span>
<span id="cb127-12"><a href="okviri.html#cb127-12" tabindex="-1"></a><span class="co"># (izraženo u milijunima Kn)</span></span>
<span id="cb127-13"><a href="okviri.html#cb127-13" tabindex="-1"></a><span class="co"># iznos zaokružite uz pomoć funkcije round ( primjer: round(100.12345, 2) ==&gt;  100.12  )</span></span>
<span id="cb127-14"><a href="okviri.html#cb127-14" tabindex="-1"></a></span>
<span id="cb127-15"><a href="okviri.html#cb127-15" tabindex="-1"></a></span>
<span id="cb127-16"><a href="okviri.html#cb127-16" tabindex="-1"></a><span class="co"># ispišite tablicu mjesto</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="okviri.html#cb128-1" tabindex="-1"></a><span class="co"># tablici `mjesto` dodajte logički stupac `visokPrirez` </span></span>
<span id="cb128-2"><a href="okviri.html#cb128-2" tabindex="-1"></a><span class="co"># koji će pokazivati da li je prirez veći od 12%</span></span>
<span id="cb128-3"><a href="okviri.html#cb128-3" tabindex="-1"></a>mjesto<span class="sc">$</span>visokPrirez <span class="ot">&lt;-</span> mjesto<span class="sc">$</span>prirez <span class="sc">&gt;</span> <span class="dv">12</span></span>
<span id="cb128-4"><a href="okviri.html#cb128-4" tabindex="-1"></a></span>
<span id="cb128-5"><a href="okviri.html#cb128-5" tabindex="-1"></a><span class="co"># pretpostavimo sljedeći (fiktivni!) okvirnog izračuna ukupnog prireza</span></span>
<span id="cb128-6"><a href="okviri.html#cb128-6" tabindex="-1"></a><span class="co"># - mjesta imaju prosječno 60% radne populacije</span></span>
<span id="cb128-7"><a href="okviri.html#cb128-7" tabindex="-1"></a><span class="co"># - svaki radnik plaća porez koji je otprilike jednak 10% neto plaće </span></span>
<span id="cb128-8"><a href="okviri.html#cb128-8" tabindex="-1"></a><span class="co"># - prirez kojeg radnik plaća računamo kao (stopa prireza)*(iznos poreza)</span></span>
<span id="cb128-9"><a href="okviri.html#cb128-9" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb128-10"><a href="okviri.html#cb128-10" tabindex="-1"></a><span class="co"># dodajte stupac `mjesecniPrihod` koji će uz pomoć prosječne plaće, prireza </span></span>
<span id="cb128-11"><a href="okviri.html#cb128-11" tabindex="-1"></a><span class="co"># i broja stanovnika procijeniti koliki prihod pojedino mjesto dobija od prireza </span></span>
<span id="cb128-12"><a href="okviri.html#cb128-12" tabindex="-1"></a><span class="co"># (izraženo u milijunima Kn)</span></span>
<span id="cb128-13"><a href="okviri.html#cb128-13" tabindex="-1"></a><span class="co"># iznos zaokružite uz pomoć funkcije round ( primjer: round(100.12345, 2) ==&gt;  100.12  )</span></span>
<span id="cb128-14"><a href="okviri.html#cb128-14" tabindex="-1"></a>mjesto<span class="sc">$</span>mjesecniPrihod <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fl">0.6</span> <span class="sc">*</span> mjesto<span class="sc">$</span>brojStanovnika <span class="sc">*</span> <span class="fl">0.1</span> <span class="sc">*</span> </span>
<span id="cb128-15"><a href="okviri.html#cb128-15" tabindex="-1"></a>                          mjesto<span class="sc">$</span>prosjPlacaKn  <span class="sc">*</span> <span class="fl">0.01</span> <span class="sc">*</span> mjesto<span class="sc">$</span>prirez <span class="sc">/</span> <span class="fl">1e6</span> , <span class="dv">2</span>)</span>
<span id="cb128-16"><a href="okviri.html#cb128-16" tabindex="-1"></a></span>
<span id="cb128-17"><a href="okviri.html#cb128-17" tabindex="-1"></a></span>
<span id="cb128-18"><a href="okviri.html#cb128-18" tabindex="-1"></a><span class="co"># ispišite tablicu mjesto</span></span>
<span id="cb128-19"><a href="okviri.html#cb128-19" tabindex="-1"></a>mjesto</span></code></pre></div>
<pre><code>##     pbr nazivMjesta prosjPlacaKn brojStanovnika prirez visokPrirez
## 1 10000      Zagreb         6359         790017     18        TRUE
## 2 51000      Rijeka         5418         128384     15        TRUE
## 3 21000       Split         5170         167121     10       FALSE
## 4 31000      Osijek         4892          84104     13        TRUE
## 5  2000   Dubrovnik         5348          28434     10       FALSE
##   mjesecniPrihod
## 1          54.26
## 2           6.26
## 3           5.18
## 4           3.21
## 5           0.91</code></pre>
</div>
<hr />
<p>Retke i stupce smo također mogli dodati slično dodavanju redaka i stupaca u matricu - uz pomoć funkcija <code>rbind</code> i <code>cbind</code>. Kod funkcije <code>rbind</code> obično dodajemo novi podatkovni okvir sa retcima koji imaju odgovarajući redoslijed i vrstu elemenata, dok kod funkcije <code>cbind</code> možemo dodati i obični vektor no moramo paziti da broj elemenata odgovara broju redaka originalnog okvira.</p>
<p>Isprobajmo ove funkcije na malim “umjetnim” podatkovnim okvirima kako bi lakše predočili njihovu funkcionalnost.</p>
<hr />
<p><strong>Zadatak 3.12 - funkcije <code>rbind</code>/<code>cbind</code> i podatkovni okviri</strong></p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="okviri.html#cb130-1" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">b =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), <span class="at">c =</span> <span class="fu">c</span>(T, F, T))</span>
<span id="cb130-2"><a href="okviri.html#cb130-2" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="st">&quot;A&quot;</span>, <span class="at">c =</span> <span class="dv">3</span>)</span>
<span id="cb130-3"><a href="okviri.html#cb130-3" tabindex="-1"></a></span>
<span id="cb130-4"><a href="okviri.html#cb130-4" tabindex="-1"></a><span class="co">#spojite df1 i df2 u podatkovni okvir df12 uz pomoć funkcije `rbind`</span></span>
<span id="cb130-5"><a href="okviri.html#cb130-5" tabindex="-1"></a></span>
<span id="cb130-6"><a href="okviri.html#cb130-6" tabindex="-1"></a></span>
<span id="cb130-7"><a href="okviri.html#cb130-7" tabindex="-1"></a><span class="co"># okviru df12 dodajte stupac `imena` sa imenima Ivo, Ana, Pero i Stipe</span></span>
<span id="cb130-8"><a href="okviri.html#cb130-8" tabindex="-1"></a><span class="co"># koristite funkciju `cbind`</span></span>
<span id="cb130-9"><a href="okviri.html#cb130-9" tabindex="-1"></a></span>
<span id="cb130-10"><a href="okviri.html#cb130-10" tabindex="-1"></a><span class="co"># ispišite okvir df12</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="okviri.html#cb131-1" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">b =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), <span class="at">c =</span> <span class="fu">c</span>(T, F, T))</span>
<span id="cb131-2"><a href="okviri.html#cb131-2" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="st">&quot;A&quot;</span>, <span class="at">c =</span> <span class="dv">3</span>)</span>
<span id="cb131-3"><a href="okviri.html#cb131-3" tabindex="-1"></a></span>
<span id="cb131-4"><a href="okviri.html#cb131-4" tabindex="-1"></a><span class="co">#spojite df1 i df2 u podatkovni okvir df12 uz pomoć funkcije `rbind`</span></span>
<span id="cb131-5"><a href="okviri.html#cb131-5" tabindex="-1"></a>df12 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df1, df2)</span>
<span id="cb131-6"><a href="okviri.html#cb131-6" tabindex="-1"></a></span>
<span id="cb131-7"><a href="okviri.html#cb131-7" tabindex="-1"></a><span class="co"># okviru df12 dodajte stupac `imena` sa imenima Ivo, Ana, Pero i Stipe</span></span>
<span id="cb131-8"><a href="okviri.html#cb131-8" tabindex="-1"></a><span class="co"># koristite funkciju `cbind`</span></span>
<span id="cb131-9"><a href="okviri.html#cb131-9" tabindex="-1"></a>df12 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df12, <span class="at">imena =</span> <span class="fu">c</span>(<span class="st">&quot;Ivo&quot;</span>, <span class="st">&quot;Ana&quot;</span>, <span class="st">&quot;Pero&quot;</span>, <span class="st">&quot;Stipe&quot;</span>))</span>
<span id="cb131-10"><a href="okviri.html#cb131-10" tabindex="-1"></a></span>
<span id="cb131-11"><a href="okviri.html#cb131-11" tabindex="-1"></a><span class="co"># ispišite okvir df12</span></span>
<span id="cb131-12"><a href="okviri.html#cb131-12" tabindex="-1"></a>df12</span></code></pre></div>
<pre><code>##   a b c imena
## 1 1 A 1   Ivo
## 2 2 B 0   Ana
## 3 3 C 1  Pero
## 4 1 A 3 Stipe</code></pre>
</div>
<hr />
<p>Za <em>brisanje redaka i stupaca</em> također se možemo koristiti istim metodama za upravljanje matricama i listama. Konkretno:</p>
<ul>
<li>brisanje redaka i stupaca možemo obaviti dvodimenzionalnim referenciranjem redaka i stupaca koje želimo “zadržati”</li>
<li>brisanje stupaca možemo obaviti pridjeljivanjem vrijednosti <code>NULL</code> odabranom stupcu</li>
</ul>
<p>Isprobajmo ovo na primjeru.</p>
<hr />
<p><strong>Zadatak 3.13 - brisanje redaka i stupaca</strong></p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="okviri.html#cb133-1" tabindex="-1"></a><span class="co"># obrišite prvi redak i drugi stupac iz df12 metodom 2d referenciranja</span></span>
<span id="cb133-2"><a href="okviri.html#cb133-2" tabindex="-1"></a></span>
<span id="cb133-3"><a href="okviri.html#cb133-3" tabindex="-1"></a></span>
<span id="cb133-4"><a href="okviri.html#cb133-4" tabindex="-1"></a><span class="co"># obrišite stupac `imena` uz pomoć pridjeljivanja `NULL` vrijednosti</span></span>
<span id="cb133-5"><a href="okviri.html#cb133-5" tabindex="-1"></a></span>
<span id="cb133-6"><a href="okviri.html#cb133-6" tabindex="-1"></a></span>
<span id="cb133-7"><a href="okviri.html#cb133-7" tabindex="-1"></a><span class="co"># ispišite df12</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="okviri.html#cb134-1" tabindex="-1"></a><span class="co"># obrišite prvi redak i drugi stupac iz df12 metodom 2d referenciranja</span></span>
<span id="cb134-2"><a href="okviri.html#cb134-2" tabindex="-1"></a>df12 <span class="ot">&lt;-</span> df12[<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>]    </span>
<span id="cb134-3"><a href="okviri.html#cb134-3" tabindex="-1"></a></span>
<span id="cb134-4"><a href="okviri.html#cb134-4" tabindex="-1"></a><span class="co"># obrišite stupac `imena` uz pomoć pridjeljivanja `NULL` vrijednosti</span></span>
<span id="cb134-5"><a href="okviri.html#cb134-5" tabindex="-1"></a>df12<span class="sc">$</span>imena <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb134-6"><a href="okviri.html#cb134-6" tabindex="-1"></a></span>
<span id="cb134-7"><a href="okviri.html#cb134-7" tabindex="-1"></a><span class="co"># ispišite df12</span></span>
<span id="cb134-8"><a href="okviri.html#cb134-8" tabindex="-1"></a>df12</span></code></pre></div>
<pre><code>##   a c
## 2 2 0
## 3 3 1
## 4 1 3</code></pre>
</div>
<hr />
<p>Podatkovnim okvirima ćemo se nastaviti baviti u poglavlju o upravljanju podatkovnim skupovima, gdje ćemo naučiti kako raditi sa okvirima sa daleko više podataka od primjera koje smo koristili u ovoj lekciji, te kako raditi sa dodatnim paketima koji značajno olakšavaju česte radnje nad podacima u podatkovnim okvirima. U nastavku ćemo se pozabaviti još jednim novim (i ponešto kontroverznim) tipom podatkovne strukture.</p>
<hr />
</div>
</div>
<div id="faktori" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Faktori<a href="okviri.html#faktori" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Faktor</strong> u R-u je zapravo tip podataka koji predstavlja ono onoga što se u statistici naziva <strong>nominalnom</strong> ili <strong>kategorijskom</strong> varijablom. Naime, atribut neke obzervacije često poprima neku vrijednost iz skupa otprije poznatih kategorija (npr. varijabla spola, dobne kategorije, obrazovanja, mjesta rođenja, stranačke preferencije i sl.). Kategorije se često identificiraju jedinstvenim nizom znakova, a u procesu analize uz pomoć njih često provodimo razna agregiranja i grupacije (npr. u nekoj utrci možemo gledati prosječno vrijeme ovisno o spolu ili dobnoj kategoriji) ili pak dijelimo skup podataka ovisno o kategorijskoj pripadnosti.</p>
<p>Faktori u R-u su često i predmet rasprava budući da se radi o konstruktu koji može olakšati rad nad podacima, ali i uzrokovati brojne probleme, pogotovo ako nismo svjesni da u nekom trenutku radimo sa faktorom (ovaj scenarij se zapravo vrlo lako izbjegava, što ćemo objasniti na kraju ovog poglavlja).</p>
<hr />
<p>Za početak ćemo predočiti što su zapravo faktori uz pomoć jednostavnog primjera. Zamislimo da sljedeći znakovni vektor opisuje razinu krvnog tlaka kod deset pacijenata:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="okviri.html#cb136-1" tabindex="-1"></a>tlak <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;normalan&quot;</span>, <span class="st">&quot;normalan&quot;</span>, </span>
<span id="cb136-2"><a href="okviri.html#cb136-2" tabindex="-1"></a>          <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;normalan&quot;</span>, <span class="st">&quot;normalan&quot;</span>)</span></code></pre></div>
<p>Ovo je očito “kategorijska” varijabla budući da može poprimiti jednu od tri diskretne vrijednosti - <code>"nizak"</code>, <code>"normalan"</code> i <code>"visok"</code>. Prema tome, ovaj vektor je tipičan kandidat za “faktoriziranje”, tj. za pretvorbu u objekt klase <code>factor</code>. Faktorizaciju znakovnog vektora provodimo uz pomoć funkcije <code>factor</code> kojoj prosljeđujemo (u pravilu) znakovni vektor kao parametar.</p>
<hr />
<p><strong>Zadatak 3.14 - faktoriziranje znakovnog vektora</strong></p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="okviri.html#cb137-1" tabindex="-1"></a>tlak <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;normalan&quot;</span>, <span class="st">&quot;normalan&quot;</span>, </span>
<span id="cb137-2"><a href="okviri.html#cb137-2" tabindex="-1"></a>          <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;normalan&quot;</span>, <span class="st">&quot;normalan&quot;</span>)</span>
<span id="cb137-3"><a href="okviri.html#cb137-3" tabindex="-1"></a></span>
<span id="cb137-4"><a href="okviri.html#cb137-4" tabindex="-1"></a><span class="co"># ispišite varijablu `tlak`</span></span>
<span id="cb137-5"><a href="okviri.html#cb137-5" tabindex="-1"></a></span>
<span id="cb137-6"><a href="okviri.html#cb137-6" tabindex="-1"></a><span class="co"># ispišite klasu varijable `tlak`</span></span>
<span id="cb137-7"><a href="okviri.html#cb137-7" tabindex="-1"></a></span>
<span id="cb137-8"><a href="okviri.html#cb137-8" tabindex="-1"></a><span class="co"># stvorite varijablu `tlak.f` koja će biti faktorizirana</span></span>
<span id="cb137-9"><a href="okviri.html#cb137-9" tabindex="-1"></a><span class="co"># inačica varijable `tlak`</span></span>
<span id="cb137-10"><a href="okviri.html#cb137-10" tabindex="-1"></a></span>
<span id="cb137-11"><a href="okviri.html#cb137-11" tabindex="-1"></a><span class="co"># ispišite varijablu `tlak.f`</span></span>
<span id="cb137-12"><a href="okviri.html#cb137-12" tabindex="-1"></a></span>
<span id="cb137-13"><a href="okviri.html#cb137-13" tabindex="-1"></a><span class="co"># ispišite klasu varijable tlak.f</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="okviri.html#cb138-1" tabindex="-1"></a>tlak <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;normalan&quot;</span>, <span class="st">&quot;normalan&quot;</span>, </span>
<span id="cb138-2"><a href="okviri.html#cb138-2" tabindex="-1"></a>          <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;normalan&quot;</span>, <span class="st">&quot;normalan&quot;</span>)</span>
<span id="cb138-3"><a href="okviri.html#cb138-3" tabindex="-1"></a></span>
<span id="cb138-4"><a href="okviri.html#cb138-4" tabindex="-1"></a><span class="co"># ispišite varijablu `tlak`</span></span>
<span id="cb138-5"><a href="okviri.html#cb138-5" tabindex="-1"></a>tlak</span>
<span id="cb138-6"><a href="okviri.html#cb138-6" tabindex="-1"></a></span>
<span id="cb138-7"><a href="okviri.html#cb138-7" tabindex="-1"></a><span class="co"># ispišite klasu varijable `tlak`</span></span>
<span id="cb138-8"><a href="okviri.html#cb138-8" tabindex="-1"></a><span class="fu">class</span>(tlak)</span>
<span id="cb138-9"><a href="okviri.html#cb138-9" tabindex="-1"></a></span>
<span id="cb138-10"><a href="okviri.html#cb138-10" tabindex="-1"></a><span class="co"># stvorite varijablu `tlak.f` koja će biti faktorizirana</span></span>
<span id="cb138-11"><a href="okviri.html#cb138-11" tabindex="-1"></a><span class="co"># inačica varijable `tlak`</span></span>
<span id="cb138-12"><a href="okviri.html#cb138-12" tabindex="-1"></a>tlak.f <span class="ot">&lt;-</span> <span class="fu">factor</span>(tlak)</span>
<span id="cb138-13"><a href="okviri.html#cb138-13" tabindex="-1"></a></span>
<span id="cb138-14"><a href="okviri.html#cb138-14" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb138-15"><a href="okviri.html#cb138-15" tabindex="-1"></a></span>
<span id="cb138-16"><a href="okviri.html#cb138-16" tabindex="-1"></a><span class="co"># ispišite varijablu `tlak.f`</span></span>
<span id="cb138-17"><a href="okviri.html#cb138-17" tabindex="-1"></a>tlak.f</span>
<span id="cb138-18"><a href="okviri.html#cb138-18" tabindex="-1"></a></span>
<span id="cb138-19"><a href="okviri.html#cb138-19" tabindex="-1"></a><span class="co"># ispišite klasu varijable tlak.f</span></span>
<span id="cb138-20"><a href="okviri.html#cb138-20" tabindex="-1"></a><span class="fu">class</span>(tlak.f)</span></code></pre></div>
<pre><code>##  [1] &quot;nizak&quot;    &quot;visok&quot;    &quot;visok&quot;    &quot;normalan&quot; &quot;normalan&quot; &quot;nizak&quot;   
##  [7] &quot;visok&quot;    &quot;nizak&quot;    &quot;normalan&quot; &quot;normalan&quot;
## [1] &quot;character&quot;
## -----------
##  [1] nizak    visok    visok    normalan normalan nizak    visok    nizak   
##  [9] normalan normalan
## Levels: nizak normalan visok
## [1] &quot;factor&quot;</code></pre>
</div>
<hr />
<p>Vidimo da je ispis faktora dobio dodatni atribut <code>Levels</code>. To znači da se sada ovdje radi o “pravoj” kategorijskoj varijabli sa točno definiranim kategorijama koje smije poprimiti. Ako pokušamo dodati novu vrijednost u faktor koja nije zastupljena u trenutnim kategorijama (npr. “prenizak”) dobiti ćemo upozorenje, a umjesto kategorije koju smo naveli nova stavka imati će vrijednost <code>NA</code>.</p>
<p>Ovo ponekad nije scenarij kojeg priželjkujemo. Ukoliko unaprijed znamo da znakovni vektor kojeg kategoriziramo ne sadrži sve moguće kategorije koje se općenito mogu pojaviti, imamo opciju dodavanja parametra <code>levels</code> u kojem ćemo uz pomoć znakovnog vektora eksplicitno navesti niz “mogućih” kategorija.</p>
<hr />
<p><strong>Zadatak 3.15 - nezastupljene kategorije i parametar <code>levels</code></strong></p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="okviri.html#cb140-1" tabindex="-1"></a><span class="co"># dodajte 11. element u vektor `tlak.f` sa sadržajem &quot;prenizak&quot;</span></span>
<span id="cb140-2"><a href="okviri.html#cb140-2" tabindex="-1"></a></span>
<span id="cb140-3"><a href="okviri.html#cb140-3" tabindex="-1"></a><span class="co"># ispišite `tlak.f`</span></span>
<span id="cb140-4"><a href="okviri.html#cb140-4" tabindex="-1"></a></span>
<span id="cb140-5"><a href="okviri.html#cb140-5" tabindex="-1"></a><span class="co"># napravite varijablu `tlak.f2` uz pomoć varijable `tlak`</span></span>
<span id="cb140-6"><a href="okviri.html#cb140-6" tabindex="-1"></a><span class="co"># kategorijske razine navedite eksplicitno tako da sadrže</span></span>
<span id="cb140-7"><a href="okviri.html#cb140-7" tabindex="-1"></a><span class="co"># i kategorije &quot;prenizak&quot; i &quot;previsok&quot;</span></span>
<span id="cb140-8"><a href="okviri.html#cb140-8" tabindex="-1"></a></span>
<span id="cb140-9"><a href="okviri.html#cb140-9" tabindex="-1"></a><span class="co"># dodajte 11. element u vektor `tlak.f2` sa sadržajem &quot;prenizak&quot;</span></span>
<span id="cb140-10"><a href="okviri.html#cb140-10" tabindex="-1"></a></span>
<span id="cb140-11"><a href="okviri.html#cb140-11" tabindex="-1"></a><span class="co"># ispišite `tlak.f2`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="okviri.html#cb141-1" tabindex="-1"></a><span class="co"># dodajte 11. element u vektor `tlak.f` sa sadržajem &quot;prenizak&quot;</span></span>
<span id="cb141-2"><a href="okviri.html#cb141-2" tabindex="-1"></a>tlak.f[<span class="dv">11</span>] <span class="ot">&lt;-</span> <span class="st">&quot;prenizak&quot;</span></span></code></pre></div>
<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, 11, value = &quot;prenizak&quot;): invalid factor level,
## NA generated</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="okviri.html#cb143-1" tabindex="-1"></a><span class="co"># ispišite `tlak.f`</span></span>
<span id="cb143-2"><a href="okviri.html#cb143-2" tabindex="-1"></a>tlak.f</span>
<span id="cb143-3"><a href="okviri.html#cb143-3" tabindex="-1"></a></span>
<span id="cb143-4"><a href="okviri.html#cb143-4" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;-----------</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb143-5"><a href="okviri.html#cb143-5" tabindex="-1"></a></span>
<span id="cb143-6"><a href="okviri.html#cb143-6" tabindex="-1"></a><span class="co"># napravite varijablu `tlak.f2` uz pomoć varijable `tlak`</span></span>
<span id="cb143-7"><a href="okviri.html#cb143-7" tabindex="-1"></a><span class="co"># kategorijske razine navedite eksplicitno tako da sadrže</span></span>
<span id="cb143-8"><a href="okviri.html#cb143-8" tabindex="-1"></a><span class="co"># i kategorije &quot;prenizak&quot; i &quot;previsok&quot;</span></span>
<span id="cb143-9"><a href="okviri.html#cb143-9" tabindex="-1"></a>tlak.f2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(tlak, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;prenizak&quot;</span>, <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;normalan&quot;</span>,</span>
<span id="cb143-10"><a href="okviri.html#cb143-10" tabindex="-1"></a>                    <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;previsok&quot;</span>))</span>
<span id="cb143-11"><a href="okviri.html#cb143-11" tabindex="-1"></a></span>
<span id="cb143-12"><a href="okviri.html#cb143-12" tabindex="-1"></a><span class="co"># dodajte 11. element u vektor `tlak.f2` sa sadržajem &quot;prenizak&quot;</span></span>
<span id="cb143-13"><a href="okviri.html#cb143-13" tabindex="-1"></a>tlak.f2[<span class="dv">11</span>] <span class="ot">&lt;-</span> <span class="st">&quot;prenizak&quot;</span></span>
<span id="cb143-14"><a href="okviri.html#cb143-14" tabindex="-1"></a></span>
<span id="cb143-15"><a href="okviri.html#cb143-15" tabindex="-1"></a><span class="co"># ispišite `tlak.f2`</span></span>
<span id="cb143-16"><a href="okviri.html#cb143-16" tabindex="-1"></a>tlak.f2</span></code></pre></div>
<pre><code>##  [1] nizak    visok    visok    normalan normalan nizak    visok    nizak   
##  [9] normalan normalan &lt;NA&gt;    
## Levels: nizak normalan visok
## -----------
##  [1] nizak    visok    visok    normalan normalan nizak    visok    nizak   
##  [9] normalan normalan prenizak
## Levels: prenizak nizak normalan visok previsok</code></pre>
</div>
<hr />
<p>Koja je prednost faktora? Zašto varijable ne bismo ostavili u originalnom, “znakovnom” obliku? Razlog potrebe za faktoriziranjem kategorijskih stupaca tj. varijabli je poglavito u tome što određene statističke i vizualizacijske funkcije “znaju” na ispravan način interpretirati i koristiti faktore te ih tretiraju drugačije od običnih “znakovnih” stupaca. Zbog toga je vrlo dobra dugoročna strategija već u početku učenja R-a naviknuti se da kod rada sa podatkovnim okvirima faktoriziramo stupce koji su zaista kategorijske varijable (ali također i pripazimo da nemamo faktorizirane stupce koji nisu kategorijske varijable, što se može događati ako nismo pažljivi).</p>
<p>Jedno od pitanja koje se često pitamo vezano uz kategorijske varijable jest - kolika je zastupljenost pojedinih kategorija? Odgovor na ovo pitanje daje nam funkcija <code>table</code> kojoj prosljeđujemo odabrani faktor.</p>
<hr />
<p><strong>Zadatak 3.16 - funkcija <code>table</code></strong></p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="okviri.html#cb145-1" tabindex="-1"></a><span class="co"># ispišite zastupljenost pojedinih kategorija u faktoru `tlak.f2`</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="okviri.html#cb146-1" tabindex="-1"></a><span class="co"># ispišite zastupljenost pojedinih kategorija u faktoru `tlak.f2`</span></span>
<span id="cb146-2"><a href="okviri.html#cb146-2" tabindex="-1"></a><span class="fu">table</span>(tlak.f2)</span></code></pre></div>
<pre><code>## tlak.f2
## prenizak    nizak normalan    visok previsok 
##        1        3        4        3        0</code></pre>
</div>
<p>Funkcija <code>table</code> ne zahtijeva nužno faktor i uredno će raditi čak i sa znakovnim vektorom. No u tom slučaju ne bismo dobili informaciju o kategorijama koje nisu uopće zastupljene.</p>
<hr />
<p>Kategorijska varijabla iz naših primjera zapravo ima prirodu tzv. ordinalne kategorijske varijable, što znači da kategorije imaju prirodni poredak (nizak tlak je “manji” od normalnog koji je “manji” od visokog). Ukoliko želimo, ovu činjenicu možemo “ugraditi” u faktor kod njegove inicijalizacije, jednostavnim dodavanjem parametra <code>ordered</code> postavljenog na <code>TRUE</code>. Prednost ordinalnog faktora jest ta što nam omogućuje usporedbu vrijednosti faktora uz pomoć usporednih operatora.</p>
<hr />
<p><strong>Zadatak 3.17 - ordinalni faktor</strong></p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="okviri.html#cb148-1" tabindex="-1"></a><span class="co"># napravite varijablu `tlak.f3` na isti način kao i `tlak.f2`</span></span>
<span id="cb148-2"><a href="okviri.html#cb148-2" tabindex="-1"></a><span class="co"># ali uz dodatni parametar `ordered = TRUE`</span></span>
<span id="cb148-3"><a href="okviri.html#cb148-3" tabindex="-1"></a><span class="co"># pripazite da poredak kategorija odgovara ordinalnom rasporedu</span></span>
<span id="cb148-4"><a href="okviri.html#cb148-4" tabindex="-1"></a></span>
<span id="cb148-5"><a href="okviri.html#cb148-5" tabindex="-1"></a></span>
<span id="cb148-6"><a href="okviri.html#cb148-6" tabindex="-1"></a><span class="co"># ispišite `tlak.f3`</span></span>
<span id="cb148-7"><a href="okviri.html#cb148-7" tabindex="-1"></a></span>
<span id="cb148-8"><a href="okviri.html#cb148-8" tabindex="-1"></a></span>
<span id="cb148-9"><a href="okviri.html#cb148-9" tabindex="-1"></a><span class="co"># provjerite radi li se uistinu o ordinalnom faktoru </span></span>
<span id="cb148-10"><a href="okviri.html#cb148-10" tabindex="-1"></a><span class="co"># uz pomoć funkcije `is.ordered`</span></span>
<span id="cb148-11"><a href="okviri.html#cb148-11" tabindex="-1"></a></span>
<span id="cb148-12"><a href="okviri.html#cb148-12" tabindex="-1"></a></span>
<span id="cb148-13"><a href="okviri.html#cb148-13" tabindex="-1"></a><span class="co"># provjerite da li je tlak prvog pacijenta</span></span>
<span id="cb148-14"><a href="okviri.html#cb148-14" tabindex="-1"></a><span class="co"># (okvirno) niži od tlaka trećeg pacijenta</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="okviri.html#cb149-1" tabindex="-1"></a><span class="co"># napravite varijablu `tlak.f3` na isti način kao i `tlak.f2`</span></span>
<span id="cb149-2"><a href="okviri.html#cb149-2" tabindex="-1"></a><span class="co"># ali uz dodatni parametar `ordered = TRUE`</span></span>
<span id="cb149-3"><a href="okviri.html#cb149-3" tabindex="-1"></a><span class="co"># pripazite da poredak kategorija odgovara ordinalnom rasporedu</span></span>
<span id="cb149-4"><a href="okviri.html#cb149-4" tabindex="-1"></a>tlak.f3 <span class="ot">&lt;-</span> <span class="fu">factor</span>(tlak, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;prenizak&quot;</span>, <span class="st">&quot;nizak&quot;</span>, <span class="st">&quot;normalan&quot;</span>, <span class="st">&quot;visok&quot;</span>, <span class="st">&quot;previsok&quot;</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb149-5"><a href="okviri.html#cb149-5" tabindex="-1"></a></span>
<span id="cb149-6"><a href="okviri.html#cb149-6" tabindex="-1"></a><span class="co"># ispišite `tlak.f3`</span></span>
<span id="cb149-7"><a href="okviri.html#cb149-7" tabindex="-1"></a>tlak.f3</span>
<span id="cb149-8"><a href="okviri.html#cb149-8" tabindex="-1"></a></span>
<span id="cb149-9"><a href="okviri.html#cb149-9" tabindex="-1"></a><span class="co"># provjerite radi li se uistinu o ordinalnom faktoru </span></span>
<span id="cb149-10"><a href="okviri.html#cb149-10" tabindex="-1"></a><span class="co"># uz pomoć funkcije `is.ordered`</span></span>
<span id="cb149-11"><a href="okviri.html#cb149-11" tabindex="-1"></a><span class="fu">is.ordered</span>(tlak.f3)</span>
<span id="cb149-12"><a href="okviri.html#cb149-12" tabindex="-1"></a></span>
<span id="cb149-13"><a href="okviri.html#cb149-13" tabindex="-1"></a></span>
<span id="cb149-14"><a href="okviri.html#cb149-14" tabindex="-1"></a><span class="co"># provjerite da li je tlak prvog pacijenta</span></span>
<span id="cb149-15"><a href="okviri.html#cb149-15" tabindex="-1"></a><span class="co"># (okvirno) niži od tlaka trećeg pacijenta</span></span>
<span id="cb149-16"><a href="okviri.html#cb149-16" tabindex="-1"></a>tlak.f3[<span class="dv">1</span>] <span class="sc">&lt;</span> tlak.f3[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>##  [1] nizak    visok    visok    normalan normalan nizak    visok    nizak   
##  [9] normalan normalan
## Levels: prenizak &lt; nizak &lt; normalan &lt; visok &lt; previsok
## [1] TRUE
## [1] TRUE</code></pre>
</div>
<hr />
<p>Već smo uvidjeli da je u R-u zapravo “sve vektor” - brojevi su jednodimenzionalni numerički vektori, matrice su vektori sa dodanim parametrom dimenzionalnosti, liste su vektori malih listi, podatkovni okviri su liste za dodanom restrikcijom. Možemo se zapitati - što su zapravo faktori?</p>
<p>Implementacijski, faktor je zapravo kodirani ili enumerirani skup vrijednosti inicijalno definiranih znakovnih nizova, uz pridruženu kodnu tablicu istih. Jednostavnije rečeno, faktorizacija znakovnog vektora uključuje:</p>
<ul>
<li>“popisivanje” svih uočenih kategorija (ili preuzimanje eksplicitnog popisa iz parametra <code>levels</code>)</li>
<li>pridjeljivanje numeričkih vrijednosti redom svakoj kategoriji (npr: <code>"nizak"</code> -&gt; <code>1</code>, <code>"normalan"</code> -&gt; <code>2</code> itd.)</li>
<li>“pakiranje” novostvorenog numeričkog vektora i pripadajuće “kodne tablice”</li>
</ul>
<p>Iako ove korake R radi automatski, u internu strukturu faktora možemo se uvjeriti ako faktor probamo pretvoriti u čisti numerički, odnosno čisti znakovni tip.</p>
<hr />
<p><strong>Zadatak 3.18 - interna struktura faktora</strong></p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="okviri.html#cb151-1" tabindex="-1"></a><span class="co"># ispišite vrijednost varijable tlak.f3 pretvorene u znakovni tip</span></span>
<span id="cb151-2"><a href="okviri.html#cb151-2" tabindex="-1"></a></span>
<span id="cb151-3"><a href="okviri.html#cb151-3" tabindex="-1"></a><span class="co"># ispišite vrijednost varijable tlak.f3 pretvorene u numerički tip</span></span></code></pre></div>
<div class="fold s o">
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="okviri.html#cb152-1" tabindex="-1"></a><span class="co"># ispišite vrijednost varijable tlak.f3 pretvorene u znakovni tip</span></span>
<span id="cb152-2"><a href="okviri.html#cb152-2" tabindex="-1"></a><span class="fu">as.character</span>(tlak.f3)</span>
<span id="cb152-3"><a href="okviri.html#cb152-3" tabindex="-1"></a></span>
<span id="cb152-4"><a href="okviri.html#cb152-4" tabindex="-1"></a><span class="co"># ispišite vrijednost varijable tlak.f3 pretvorene u numerički tip</span></span>
<span id="cb152-5"><a href="okviri.html#cb152-5" tabindex="-1"></a><span class="fu">as.numeric</span>(tlak.f3)</span></code></pre></div>
<pre><code>##  [1] &quot;nizak&quot;    &quot;visok&quot;    &quot;visok&quot;    &quot;normalan&quot; &quot;normalan&quot; &quot;nizak&quot;   
##  [7] &quot;visok&quot;    &quot;nizak&quot;    &quot;normalan&quot; &quot;normalan&quot;
##  [1] 2 4 4 3 3 2 4 2 3 3</code></pre>
</div>
<hr />
<p>Pretvaranjem faktora u znakovni tip zapravo radimo operaciju inverzne faktorizacije, tj. možemo se vratiti na izvorni znakovni vektor. S druge strane, pretvaranjem faktora u numerički tip, dobit ćemo popis kodiranih brojeva kojima se interni faktor koristi za predstavljanje svake kategorije.</p>
<p>U potonjem slučaju treba biti oprezan ako kategorije označavamo brojevima (što je dozvoljeno). Naime, iako su elementi takvog faktora brojevi, oni se i dalje ponašaju kao <strong>kategorije</strong> te se ne mogu direktno koristiti u aritmetičkim izrazima, a “nasilno” pretvaranje takvog faktora rezultirati će potencijalno vrlo neželjenim posljedicama ako se takve vrijednosti dalje proslijede u analizu</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="okviri.html#cb154-1" tabindex="-1"></a>numFaktor <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">6</span>, <span class="dv">5</span>))</span>
<span id="cb154-2"><a href="okviri.html#cb154-2" tabindex="-1"></a><span class="fu">as.numeric</span>(numFaktor)  <span class="co"># neće biti 5, 6, 6, 7, 5, 7, 6, 7, 8, 6, 5 !!</span></span></code></pre></div>
<pre><code>##  [1] 1 2 2 3 1 3 2 3 4 2 1</code></pre>
<p>Ukoliko želimo, možemo i promijeniti “referentnu” (osnovnu) razinu pomoću funkcije <code>relevel</code>, ili odabrati proizvoljni redoslijed uz pomoć ponovnog faktoriziranja i parametra <code>levels</code>.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="okviri.html#cb156-1" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span> ,<span class="st">&quot;C&quot;</span>))   </span>
<span id="cb156-2"><a href="okviri.html#cb156-2" tabindex="-1"></a>f                                              <span class="co"># A = 1, B = 2, C = 3 , redom pojave kategorija</span></span>
<span id="cb156-3"><a href="okviri.html#cb156-3" tabindex="-1"></a><span class="fu">relevel</span>(f, <span class="at">ref =</span> <span class="st">&quot;C&quot;</span>)                          <span class="co"># C = 1, A = 2, B = 3 , C postavljamo na prvo mjesto</span></span>
<span id="cb156-4"><a href="okviri.html#cb156-4" tabindex="-1"></a><span class="fu">factor</span>(f, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>))           <span class="co"># B = 1, C = 2, A = 3 , proizvoljan redoslijed</span></span></code></pre></div>
<p>U ovom trenutku ovakvo igranje s razinama nema previše svrhe, no kod naprednijih analitičkih metoda ponekad želimo eksplicitno definirati koja je razina referentna, budući da se sve ostale razine na određeni način uspoređuju s njom.</p>
<hr />
</div>
<div id="zadaci-za-vježbu-1" class="section level2 unnumbered hasAnchor">
<h2>Zadaci za vježbu<a href="okviri.html#zadaci-za-vježbu-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Inicijalizirajte ponovo listu <code>svastara</code> korištenu u lekciji. Napravite sljedeće:</li>
</ol>
<ul>
<li>ispišite klasu drugog elementa liste</li>
<li>ispišite element na trećem mjestu elementa liste naziva <code>slova</code></li>
<li>provjerite duljinu elementa naziva <code>imena</code> te na zadnje mjesto dodajte ime <code>"Pero"</code></li>
<li>provjerite da li se broj <code>4</code> nalazi u prvom elementu liste</li>
<li>na zadnje mjesto liste dodajte novu listu sa tri vektora <code>a</code>, <code>b</code> i <code>c</code> koji svi sadrže elemente (1,2,3)</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>U mapi zajedno sa ovom bilježnicom pronađite datoteku <code>mjestoNOHEADER.csv</code> koja predstavlja datoteku istovjetnu datoteci <code>mjesto.csv</code> osim sljedećih značajki:</li>
</ol>
<ul>
<li>nedostaju imena stupaca</li>
<li>korišten je razmak kao razdvojnik</li>
</ul>
<p>Pokušajte uz pomoć dokumentacije učitati podatke iz ove datoteke u varijablu <code>mjestoNH</code> koja će biti istovjetna varijabli <code>mjesto</code> korištenoj u lekciji.</p>
<ol start="3" style="list-style-type: decimal">
<li>U mapi zajedno sa ovom bilježnicom pronađite datoteku <code>racun.csv</code> i učitajte ju u varijablu <code>racun</code>. Pripazite da nizovi znakova nisu automatski pretvoreni u faktore. Ispišite na zaslon:</li>
</ol>
<ul>
<li>broj redaka ove tablice</li>
<li>broj stupaca tablice</li>
<li>imena stupaca tablice</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Za tablicu <code>racun</code> napravite sljedeće:</li>
</ol>
<ul>
<li>faktorizirajte stupac <code>katArtikl</code></li>
<li>ispišite šifru, naziv i cijenu svih artikala kategorije “slatkisi i grickalice” jeftinijih od 4 EUR</li>
<li>ispišite koliko proizvoda koje kategorije se nalazi u računu</li>
<li>dodajte stupac ukupno koji će sadržavati ukupnu cijenu pojedine stavke uračunavajući i cijenu i količinu</li>
<li>izračunajte ukupni iznos računa</li>
</ul>
<hr />
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Programirajmo u R-u</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://www.fer.unizg.hr/en/damir.pintar" property="cc:attributionName" rel="cc:attributionURL">Damir Pintar</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="https://ratnip.github.io/FER_OPJR/" rel="dct:source">https://ratnip.github.io/FER_OPJR/</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tipovi.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"],
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed",
"edit": null,
"download": null,
"search": true
}
});
});
</script>

</body>

</html>
